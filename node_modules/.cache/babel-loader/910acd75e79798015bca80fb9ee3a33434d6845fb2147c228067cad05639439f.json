{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\cmp_sliding_simulator\\\\src\\\\components\\\\cmp_sliding_simulator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useRef, useCallback } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdvancedWaferAnalysisSimulator = () => {\n  _s();\n  // 시뮬레이션 파라미터\n  const [params, setParams] = useState({\n    R_wafer: 150,\n    R_pad: 400,\n    rpm_pad: 31,\n    rpm_wafer: 30,\n    R_c: 225,\n    time_total: 150,\n    num_time_steps: 1500,\n    oscillation_enabled: true,\n    oscillation_amplitude: 40,\n    oscillation_speed: 300 / 60,\n    num_wafer_grid: 400,\n    heatmap_grid_points: 300\n  });\n  const [currentView, setCurrentView] = useState('trajectory');\n  const [isSimulating, setIsSimulating] = useState(false);\n  const [results, setResults] = useState(null);\n  const [selectedPoints, setSelectedPoints] = useState([]);\n  const [userSelectedPoints, setUserSelectedPoints] = useState([]);\n  const [customPoints, setCustomPoints] = useState([]);\n  const [newPointRadius, setNewPointRadius] = useState(75);\n  const [newPointAngle, setNewPointAngle] = useState(0);\n  const [isSelectingMode, setIsSelectingMode] = useState(false);\n  const [animationTime, setAnimationTime] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [animationSpeed, setAnimationSpeed] = useState(1.0);\n  const [trailLength, setTrailLength] = useState(100); // 이동자취 길이 (시간 단위)\n\n  // 기본 추적 점들 (150mm 점 1개만)\n  const defaultTrackingPoints = [{\n    id: 'r150',\n    radius: 150,\n    angle: 0,\n    label: '150mm'\n  }];\n  const animationRef = useRef();\n  const isPlayingRef = useRef(false); // 현재 재생 상태를 ref로 관리\n\n  // 시뮬레이션 계산\n  const runSimulation = useMemo(() => {\n    return () => {\n      setIsSimulating(true);\n      setTimeout(() => {\n        const {\n          R_wafer,\n          R_pad,\n          rpm_pad,\n          rpm_wafer,\n          R_c,\n          time_total,\n          num_time_steps,\n          oscillation_enabled,\n          oscillation_amplitude,\n          oscillation_speed,\n          num_wafer_grid\n        } = params;\n\n        // 각속도 계산\n        const omega_pad = rpm_pad * 2 * Math.PI / 60;\n        const omega_wafer = rpm_wafer * 2 * Math.PI / 60;\n\n        // 시간 스텝\n        const time_steps = Array.from({\n          length: num_time_steps\n        }, (_, i) => i * time_total / (num_time_steps - 1));\n        const dt = time_steps[1] - time_steps[0];\n\n        // 진동 계산\n        let wafer_x_oscillation, wafer_vx_oscillation;\n        if (oscillation_enabled) {\n          const freq = oscillation_speed / (2 * oscillation_amplitude);\n          wafer_x_oscillation = time_steps.map(t => oscillation_amplitude * Math.sin(2 * Math.PI * freq * t));\n          wafer_vx_oscillation = time_steps.map(t => 2 * Math.PI * freq * oscillation_amplitude * Math.cos(2 * Math.PI * freq * t));\n        } else {\n          wafer_x_oscillation = new Array(num_time_steps).fill(0);\n          wafer_vx_oscillation = new Array(num_time_steps).fill(0);\n        }\n\n        // 웨이퍼 격자 생성\n        const wafer_points = [];\n        const radial_samples = Math.ceil(Math.sqrt(num_wafer_grid / 4));\n        const angular_samples = Math.ceil(num_wafer_grid / radial_samples);\n        wafer_points.push({\n          x: 0,\n          y: 0,\n          r: 0,\n          theta: 0,\n          zone: 'center'\n        });\n        for (let i = 1; i <= radial_samples; i++) {\n          const r = i / radial_samples * R_wafer;\n          const num_theta = Math.max(6, Math.floor(angular_samples * i / radial_samples));\n          for (let j = 0; j < num_theta; j++) {\n            const theta = 2 * Math.PI * j / num_theta;\n            const x = r * Math.cos(theta);\n            const y = r * Math.sin(theta);\n            let zone = 'outer';\n            if (r < R_wafer * 0.3) zone = 'inner';else if (r < R_wafer * 0.7) zone = 'middle';\n            wafer_points.push({\n              x,\n              y,\n              r,\n              theta,\n              zone\n            });\n          }\n        }\n\n        // 히트맵용 웨이퍼 점들 (전체 면적에 골고루 분배)\n        const heatmap_wafer_points = [];\n        const target_points = 300;\n\n        // 균등 분포를 위한 그리드 기반 점 생성\n        const grid_size = Math.ceil(Math.sqrt(target_points * 4 / Math.PI)); // 정사각형 그리드에서 원형 영역 추출\n        const cell_size = 2 * R_wafer / grid_size;\n        for (let i = 0; i < grid_size; i++) {\n          for (let j = 0; j < grid_size; j++) {\n            // 그리드 셀 중심 좌표\n            const x = (i + 0.5) * cell_size - R_wafer;\n            const y = (j + 0.5) * cell_size - R_wafer;\n\n            // 웨이퍼 내부에 있는지 확인\n            const distance_from_center = Math.sqrt(x * x + y * y);\n            if (distance_from_center <= R_wafer) {\n              const r = distance_from_center;\n              const theta = Math.atan2(y, x);\n              let zone = 'outer';\n              if (r < R_wafer * 0.3) zone = 'inner';else if (r < R_wafer * 0.7) zone = 'middle';\n              heatmap_wafer_points.push({\n                x,\n                y,\n                r,\n                theta,\n                zone\n              });\n            }\n          }\n        }\n\n        // 목표 점수에 맞게 조정 (너무 많으면 랜덤 샘플링, 적으면 추가 생성)\n        if (heatmap_wafer_points.length > target_points) {\n          // Fisher-Yates 셔플을 사용한 랜덤 샘플링\n          const shuffled = [...heatmap_wafer_points];\n          for (let i = shuffled.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n          }\n          heatmap_wafer_points.length = 0;\n          heatmap_wafer_points.push(...shuffled.slice(0, target_points));\n        } else if (heatmap_wafer_points.length < target_points) {\n          // 부족한 점수만큼 추가 생성 (균등 분포)\n          const additional_points = target_points - heatmap_wafer_points.length;\n          for (let i = 0; i < additional_points; i++) {\n            const r = Math.sqrt(Math.random()) * R_wafer; // 균등 분포를 위한 제곱근\n            const theta = Math.random() * 2 * Math.PI;\n            const x = r * Math.cos(theta);\n            const y = r * Math.sin(theta);\n            let zone = 'outer';\n            if (r < R_wafer * 0.3) zone = 'inner';else if (r < R_wafer * 0.7) zone = 'middle';\n            heatmap_wafer_points.push({\n              x,\n              y,\n              r,\n              theta,\n              zone\n            });\n          }\n        }\n\n        // 추적 점들 추가 (150mm 점은 사용자 정의에서 선택된 경우에만 추가)\n        const has150mmCustom = customPoints.some(p => p.radius === 150 && p.angle === 0);\n        const filteredDefaultPoints = has150mmCustom ? [] : defaultTrackingPoints;\n        const allTrackingPoints = [...filteredDefaultPoints, ...customPoints];\n        allTrackingPoints.forEach(point => {\n          const x = point.radius * Math.cos(point.angle * Math.PI / 180);\n          const y = point.radius * Math.sin(point.angle * Math.PI / 180);\n          if (Math.sqrt(x * x + y * y) <= R_wafer) {\n            wafer_points.push({\n              x: x,\n              y: y,\n              r: point.radius,\n              theta: point.angle * Math.PI / 180,\n              zone: point.id ? 'default' : 'custom',\n              isCustom: !point.id,\n              isDefault: !!point.id,\n              customId: point.id,\n              label: point.label || `사용자점 ${point.id}`\n            });\n          }\n        });\n        const num_actual_grid = wafer_points.length;\n        const wafer_area = Math.PI * R_wafer * R_wafer;\n        const cell_area = wafer_area / num_actual_grid;\n\n        // 데이터 저장소\n        const heatmap_trajectoryData = heatmap_wafer_points.map(() => []);\n        const heatmap_cumulativeDistance = heatmap_wafer_points.map(() => 0);\n        const timeSeriesData = [];\n        const trajectoryData = wafer_points.map(() => []);\n        const cumulativeDistance = wafer_points.map(() => 0);\n        const padTrajectoryData = wafer_points.map(() => []);\n        const padTrajectoryDataLower = wafer_points.map(() => []); // 하단 웨이퍼 전용\n\n        // 시뮬레이션 메인 루프\n        for (let k = 0; k < num_time_steps; k++) {\n          const t = time_steps[k];\n          const pad_theta = omega_pad * t;\n          const wafer_theta = omega_wafer * t;\n          const wafer_xc = R_c + wafer_x_oscillation[k];\n          const wafer_yc = 0.0;\n          const cos_w = Math.cos(wafer_theta);\n          const sin_w = Math.sin(wafer_theta);\n          const cos_p = Math.cos(-pad_theta);\n          const sin_p = Math.sin(-pad_theta);\n          const timeStepData = {\n            time: t,\n            wafer_center_x: wafer_xc,\n            wafer_center_y: wafer_yc,\n            wafer_angle: wafer_theta,\n            pad_angle: pad_theta,\n            points: []\n          };\n\n          // 일반 웨이퍼 점들 계산\n          for (let i = 0; i < num_actual_grid; i++) {\n            const {\n              x: wx,\n              y: wy,\n              zone\n            } = wafer_points[i];\n            const abs_x = wafer_xc + (wx * cos_w - wy * sin_w);\n            const abs_y = wafer_yc + (wx * sin_w + wy * cos_w);\n            const pad_local_x = abs_x * cos_p - abs_y * sin_p;\n            const pad_local_y = abs_x * sin_p + abs_y * cos_p;\n            const v_center_x = wafer_vx_oscillation[k];\n            const v_center_y = 0.0;\n            const v_local_x = -omega_wafer * wx * sin_w - omega_wafer * wy * cos_w;\n            const v_local_y = omega_wafer * wx * cos_w - omega_wafer * wy * sin_w;\n            const v_gx = v_center_x + v_local_x;\n            const v_gy = v_center_y + v_local_y;\n            const v_pad_x = -omega_pad * abs_y;\n            const v_pad_y = omega_pad * abs_x;\n            const v_rel_x = v_gx - v_pad_x;\n            const v_rel_y = v_gy - v_pad_y;\n            const speed_rel = Math.sqrt(v_rel_x * v_rel_x + v_rel_y * v_rel_y);\n            if (k > 0) {\n              cumulativeDistance[i] += speed_rel * dt;\n            }\n            padTrajectoryData[i].push({\n              time: t,\n              x: pad_local_x,\n              y: pad_local_y,\n              abs_x: abs_x,\n              abs_y: abs_y\n            });\n\n            // 하단 웨이퍼 궤적 계산 (대칭 변환)\n            const lower_wafer_center_x = wafer_xc;\n            const lower_wafer_center_y = -wafer_yc; // Y축 대칭\n\n            const lower_abs_x = lower_wafer_center_x + (wx * cos_w - wy * sin_w);\n            const lower_abs_y = lower_wafer_center_y + (wx * sin_w + wy * cos_w);\n            const lower_pad_local_x = lower_abs_x * cos_p - lower_abs_y * sin_p;\n            const lower_pad_local_y = lower_abs_x * sin_p + lower_abs_y * cos_p;\n            padTrajectoryDataLower[i].push({\n              time: t,\n              x: lower_pad_local_x,\n              y: lower_pad_local_y,\n              abs_x: lower_abs_x,\n              abs_y: lower_abs_y\n            });\n            trajectoryData[i].push({\n              time: t,\n              x: abs_x,\n              y: abs_y,\n              local_x: wx,\n              local_y: wy,\n              speed: speed_rel,\n              cumulative_distance: cumulativeDistance[i],\n              zone: zone\n            });\n            timeStepData.points.push({\n              id: i,\n              x: abs_x,\n              y: abs_y,\n              local_x: wx,\n              local_y: wy,\n              speed: speed_rel,\n              cumulative_distance: cumulativeDistance[i],\n              zone: zone\n            });\n          }\n\n          // 히트맵용 점들 계산\n          for (let i = 0; i < heatmap_wafer_points.length; i++) {\n            const {\n              x: wx,\n              y: wy,\n              zone\n            } = heatmap_wafer_points[i];\n            const abs_x = wafer_xc + (wx * cos_w - wy * sin_w);\n            const abs_y = wafer_yc + (wx * sin_w + wy * cos_w);\n            const v_center_x = wafer_vx_oscillation[k];\n            const v_center_y = 0.0;\n            const v_local_x = -omega_wafer * wx * sin_w - omega_wafer * wy * cos_w;\n            const v_local_y = omega_wafer * wx * cos_w - omega_wafer * wy * sin_w;\n            const v_gx = v_center_x + v_local_x;\n            const v_gy = v_center_y + v_local_y;\n            const v_pad_x = -omega_pad * abs_y;\n            const v_pad_y = omega_pad * abs_x;\n            const v_rel_x = v_gx - v_pad_x;\n            const v_rel_y = v_gy - v_pad_y;\n            const speed_rel = Math.sqrt(v_rel_x * v_rel_x + v_rel_y * v_rel_y);\n            if (k > 0) {\n              heatmap_cumulativeDistance[i] += speed_rel * dt;\n            }\n            heatmap_trajectoryData[i].push({\n              time: t,\n              x: abs_x,\n              y: abs_y,\n              local_x: wx,\n              local_y: wy,\n              speed: speed_rel,\n              cumulative_distance: heatmap_cumulativeDistance[i],\n              zone: zone\n            });\n          }\n          timeSeriesData.push(timeStepData);\n        }\n\n        // 통계 계산\n        const finalDistances = cumulativeDistance;\n        const maxDistance = Math.max(...finalDistances);\n        const minDistance = Math.min(...finalDistances);\n        const avgDistance = finalDistances.reduce((a, b) => a + b, 0) / finalDistances.length;\n        const uniformityIndex = maxDistance > 0 ? 1 - (maxDistance - minDistance) / maxDistance : 1;\n        setResults({\n          wafer_points,\n          heatmap_wafer_points,\n          heatmap_trajectoryData,\n          heatmap_cumulativeDistance,\n          timeSeriesData,\n          trajectoryData,\n          padTrajectoryData,\n          padTrajectoryDataLower,\n          // 하단 웨이퍼 궤적 데이터 추가\n          finalDistances,\n          statistics: {\n            maxDistance,\n            minDistance,\n            avgDistance,\n            uniformityIndex\n          },\n          R_wafer,\n          R_pad,\n          time_steps,\n          cell_area\n        });\n        setIsSimulating(false);\n      }, 100);\n    };\n  }, [params, customPoints]);\n  useEffect(() => {\n    runSimulation();\n  }, [runSimulation]);\n\n  // 사용자 정의 점 함수들\n  const addCustomPoint = () => {\n    if (newPointRadius <= params.R_wafer && newPointRadius >= 0) {\n      const newPoint = {\n        id: Date.now(),\n        radius: newPointRadius,\n        angle: newPointAngle\n      };\n      setCustomPoints(prev => [...prev, newPoint]);\n    }\n  };\n  const removeCustomPoint = pointId => {\n    setCustomPoints(prev => prev.filter(p => p.id !== pointId));\n  };\n\n  // 애니메이션 제어\n  const toggleAnimation = useCallback(() => {\n    console.log('toggleAnimation called, isPlaying:', isPlaying, 'isPlayingRef:', isPlayingRef.current, 'results:', !!results);\n    if (isPlaying) {\n      // 일시정지\n      console.log('Pausing animation');\n      isPlayingRef.current = false;\n      setIsPlaying(false);\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    } else {\n      // 재생\n      if (!results || !results.timeSeriesData || results.timeSeriesData.length === 0) {\n        console.log('Cannot start animation: no results or timeSeriesData');\n        return;\n      }\n      console.log('Starting animation');\n      isPlayingRef.current = true;\n      setIsPlaying(true);\n    }\n  }, [isPlaying, results]);\n  useEffect(() => {\n    var _results$timeSeriesDa;\n    console.log('Animation useEffect triggered:', {\n      isPlaying,\n      isPlayingRef: isPlayingRef.current,\n      hasResults: !!results,\n      hasTimeSeriesData: !!(results !== null && results !== void 0 && results.timeSeriesData),\n      timeSeriesDataLength: (results === null || results === void 0 ? void 0 : (_results$timeSeriesDa = results.timeSeriesData) === null || _results$timeSeriesDa === void 0 ? void 0 : _results$timeSeriesDa.length) || 0\n    });\n\n    // 애니메이션 중지 조건\n    if (!isPlaying || !results || !results.timeSeriesData || results.timeSeriesData.length === 0) {\n      console.log('Stopping animation: conditions not met');\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      return;\n    }\n\n    // 애니메이션 시작\n    if (isPlaying && isPlayingRef.current) {\n      console.log('Starting animation loop');\n      const animate = () => {\n        // 재생 상태 확인\n        if (!isPlayingRef.current) {\n          console.log('Animation stopped: isPlayingRef is false');\n          return;\n        }\n        setAnimationTime(prev => {\n          const next = prev + 0.5 * animationSpeed;\n          const maxTime = results.timeSeriesData.length - 1;\n          if (next >= maxTime) {\n            console.log('Animation completed, reached max time');\n            isPlayingRef.current = false;\n            setIsPlaying(false);\n            if (animationRef.current) {\n              cancelAnimationFrame(animationRef.current);\n              animationRef.current = null;\n            }\n            return maxTime;\n          }\n          return next;\n        });\n\n        // 다음 프레임 요청\n        if (isPlayingRef.current) {\n          animationRef.current = requestAnimationFrame(animate);\n        }\n      };\n      animationRef.current = requestAnimationFrame(animate);\n    }\n    return () => {\n      console.log('Cleaning up animation useEffect');\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    };\n  }, [isPlaying, animationSpeed, results]);\n  const resetAnimation = useCallback(() => {\n    console.log('resetAnimation called');\n    // 애니메이션 중지\n    isPlayingRef.current = false;\n    setIsPlaying(false);\n    if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n      animationRef.current = null;\n    }\n    // 시간을 0으로 리셋\n    setAnimationTime(0);\n  }, []);\n  useEffect(() => {\n    return () => {\n      console.log('Component unmounting, cleaning up animation');\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    };\n  }, []);\n\n  // 포인트 선택 핸들러\n  const handlePointSelection = pointIndex => {\n    if (isSelectingMode) {\n      setUserSelectedPoints(prev => {\n        if (prev.includes(pointIndex)) {\n          return prev.filter(p => p !== pointIndex);\n        } else {\n          return [...prev, pointIndex].slice(-10);\n        }\n      });\n    } else {\n      setSelectedPoints(prev => {\n        if (prev.includes(pointIndex)) {\n          return prev.filter(p => p !== pointIndex);\n        } else {\n          return [...prev, pointIndex].slice(-5);\n        }\n      });\n    }\n  };\n\n  // 매개변수 제어 패널\n  const ControlPanel = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-lg shadow-lg space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-bold mb-3\",\n      children: \"\\uC2DC\\uBBAC\\uB808\\uC774\\uC158 \\uB9E4\\uAC1C\\uBCC0\\uC218\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-8 gap-2 items-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium mb-1\",\n          children: \"\\uC6E8\\uC774\\uD37CR(mm)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: params.R_wafer,\n          onChange: e => setParams({\n            ...params,\n            R_wafer: Number(e.target.value)\n          }),\n          className: \"w-full px-2 py-1 text-sm border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium mb-1\",\n          children: \"\\uD328\\uB4DCR(mm)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: params.R_pad,\n          onChange: e => setParams({\n            ...params,\n            R_pad: Number(e.target.value)\n          }),\n          className: \"w-full px-2 py-1 text-sm border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium mb-1\",\n          children: \"\\uD328\\uB4DCRPM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: params.rpm_pad,\n          onChange: e => setParams({\n            ...params,\n            rpm_pad: Number(e.target.value)\n          }),\n          className: \"w-full px-2 py-1 text-sm border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium mb-1\",\n          children: \"\\uC6E8\\uC774\\uD37CRPM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: params.rpm_wafer,\n          onChange: e => setParams({\n            ...params,\n            rpm_wafer: Number(e.target.value)\n          }),\n          className: \"w-full px-2 py-1 text-sm border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium mb-1\",\n          children: \"\\uC2DC\\uAC04(s)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: params.time_total,\n          onChange: e => setParams({\n            ...params,\n            time_total: Number(e.target.value)\n          }),\n          className: \"w-full px-2 py-1 text-sm border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium mb-1\",\n          children: \"\\uC2A4\\uD15D\\uC218\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: params.num_time_steps,\n          onChange: e => setParams({\n            ...params,\n            num_time_steps: Number(e.target.value)\n          }),\n          className: \"w-full px-2 py-1 text-sm border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium mb-1\",\n          children: \"\\uC9C4\\uB3D9\\uD3ED(mm)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: params.oscillation_amplitude,\n          onChange: e => setParams({\n            ...params,\n            oscillation_amplitude: Number(e.target.value)\n          }),\n          className: \"w-full px-2 py-1 text-sm border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-medium mb-1\",\n          children: \"\\uC9C4\\uB3D9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: params.oscillation_enabled,\n          onChange: e => setParams({\n            ...params,\n            oscillation_enabled: e.target.checked\n          }),\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t pt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold text-sm mb-2\",\n        children: \"\\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 \\uC810\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-xs font-medium mb-2\",\n          children: \"\\uBBF8\\uB9AC \\uC815\\uC758\\uB41C \\uC810\\uB4E4:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-4 gap-2\",\n          children: [{\n            radius: 0,\n            angle: 0,\n            label: '중심 (0mm)'\n          }, {\n            radius: 50,\n            angle: 0,\n            label: '50mm'\n          }, {\n            radius: 100,\n            angle: 0,\n            label: '100mm'\n          }, {\n            radius: 150,\n            angle: 0,\n            label: '150mm'\n          }].map((point, index) => {\n            const isSelected = customPoints.some(p => p.radius === point.radius && p.angle === point.angle);\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (isSelected) {\n                  // 선택 해제\n                  setCustomPoints(prev => prev.filter(p => !(p.radius === point.radius && p.angle === point.angle)));\n                } else {\n                  // 선택\n                  const newPoint = {\n                    id: `predefined_${point.radius}_${point.angle}`,\n                    radius: point.radius,\n                    angle: point.angle,\n                    label: point.label\n                  };\n                  setCustomPoints(prev => [...prev, newPoint]);\n                }\n              },\n              className: `px-2 py-1 text-xs rounded border ${isSelected ? 'bg-blue-500 text-white border-blue-500' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`,\n              children: point.label\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium mb-1\",\n            children: \"\\uBC18\\uC9C0\\uB984(mm)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"0\",\n            max: params.R_wafer,\n            value: newPointRadius,\n            onChange: e => setNewPointRadius(Number(e.target.value)),\n            className: \"w-20 px-2 py-1 text-sm border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium mb-1\",\n            children: \"\\uAC01\\uB3C4(\\xB0)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"0\",\n            max: \"360\",\n            value: newPointAngle,\n            onChange: e => setNewPointAngle(Number(e.target.value)),\n            className: \"w-20 px-2 py-1 text-sm border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addCustomPoint,\n          className: \"px-3 py-1 bg-green-500 text-white text-sm rounded hover:bg-green-600\",\n          children: \"\\uCD94\\uAC00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 9\n      }, this), customPoints.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-h-32 overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-xs font-medium mb-1\",\n          children: \"\\uCD94\\uAC00\\uB41C \\uC810\\uB4E4:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 690,\n          columnNumber: 13\n        }, this), customPoints.map(point => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between bg-purple-50 px-2 py-1 rounded text-xs mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"R: \", point.radius, \"mm, \\u03B8: \", point.angle, \"\\xB0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeCustomPoint(point.id),\n            className: \"text-red-500 hover:text-red-700\",\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 17\n          }, this)]\n        }, point.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 611,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 533,\n    columnNumber: 5\n  }, this);\n\n  // 실시간 애니메이션 뷰\n  const AnimationView = () => {\n    if (!results || !results.timeSeriesData || results.timeSeriesData.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-96 bg-gray-100 border rounded-lg flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"\\uC2DC\\uBBAC\\uB808\\uC774\\uC158 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 9\n      }, this);\n    }\n    const currentTimeIndex = Math.floor(animationTime);\n    const currentData = results.timeSeriesData[currentTimeIndex];\n    if (!currentData) {\n      console.log('No currentData for index:', currentTimeIndex);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-96 bg-gray-100 border rounded-lg flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"\\uD604\\uC7AC \\uC2DC\\uAC04 \\uC778\\uB371\\uC2A4\\uC5D0 \\uB300\\uD55C \\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 9\n      }, this);\n    }\n\n    // 고도화된 부드러운 곡선 생성 함수\n    const createSmoothPath = (points, isUpper = true) => {\n      if (points.length < 2) return '';\n\n      // 점들 간격을 더 조밀하게 보간\n      const interpolatedPoints = [];\n      for (let i = 0; i < points.length - 1; i++) {\n        const current = points[i];\n        const next = points[i + 1];\n\n        // 원본 점 추가\n        interpolatedPoints.push(current);\n\n        // 중간에 3개의 보간점 추가 (총 4배 조밀하게)\n        for (let j = 1; j <= 3; j++) {\n          const t = j / 4;\n          const interpolated = {\n            x: current.x + (next.x - current.x) * t,\n            y: current.y + (next.y - current.y) * t\n          };\n          interpolatedPoints.push(interpolated);\n        }\n      }\n      interpolatedPoints.push(points[points.length - 1]);\n\n      // Catmull-Rom 스플라인을 사용한 부드러운 곡선 생성\n      let path = `M ${interpolatedPoints[0].x} ${isUpper ? -interpolatedPoints[0].y : interpolatedPoints[0].y}`;\n      for (let i = 1; i < interpolatedPoints.length; i++) {\n        const prev = interpolatedPoints[i - 1];\n        const curr = interpolatedPoints[i];\n        if (i === 1) {\n          // 첫 번째 세그먼트는 단순한 2차 베지어\n          path += ` Q ${prev.x} ${isUpper ? -prev.y : prev.y} ${curr.x} ${isUpper ? -curr.y : curr.y}`;\n        } else {\n          // 후속 세그먼트는 더 부드러운 3차 베지어\n          const prev2 = interpolatedPoints[i - 2];\n          const cp1x = prev.x + (curr.x - prev2.x) * 0.25;\n          const cp1y = prev.y + (curr.y - prev2.y) * 0.25;\n          const cp2x = curr.x - (curr.x - prev.x) * 0.25;\n          const cp2y = curr.y - (curr.y - prev.y) * 0.25;\n          path += ` C ${cp1x} ${isUpper ? -cp1y : cp1y} ${cp2x} ${isUpper ? -cp2y : cp2y} ${curr.x} ${isUpper ? -curr.y : curr.y}`;\n        }\n      }\n      return path;\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold\",\n            children: \"\\uC2E4\\uC2DC\\uAC04 \\uC2DC\\uBBAC\\uB808\\uC774\\uC158\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: [\"\\uC0C1\\uD0DC: \", isPlaying ? '재생 중' : '일시정지', \" | Ref: \", isPlayingRef.current ? 'ON' : 'OFF', \" | \\uC2DC\\uAC04: \", currentData.time.toFixed(2), \"s | \\uC778\\uB371\\uC2A4: \", currentTimeIndex, \"/\", results.timeSeriesData.length - 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                console.log('Play/Pause button clicked');\n                toggleAnimation();\n              },\n              className: `px-4 py-2 rounded ${isPlaying ? 'bg-red-500 text-white' : 'bg-green-500 text-white'}`,\n              children: isPlaying ? '⏸️ 일시정지' : '▶️ 재생'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                console.log('Reset button clicked');\n                resetAnimation();\n              },\n              className: \"px-4 py-2 rounded bg-gray-500 text-white hover:bg-gray-600\",\n              children: \"\\uD83D\\uDD04 \\uB9AC\\uC14B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium\",\n              children: \"\\uC18D\\uB3C4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: animationSpeed,\n              onChange: e => {\n                const newSpeed = Number(e.target.value);\n                console.log('Animation speed changed to:', newSpeed);\n                setAnimationSpeed(newSpeed);\n              },\n              className: \"px-2 py-1 border rounded text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 0.25,\n                children: \"0.25x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 830,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 0.5,\n                children: \"0.5x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 1.0,\n                children: \"1.0x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 1.5,\n                children: \"1.5x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 833,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 2.0,\n                children: \"2.0x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 3.0,\n                children: \"3.0x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 5.0,\n                children: \"5.0x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 836,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 821,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm\",\n              children: [\"\\uC2DC\\uAC04: \", currentData.time.toFixed(2), \"s\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"0\",\n              max: results.timeSeriesData.length - 1,\n              value: animationTime,\n              onChange: e => {\n                const newTime = Number(e.target.value);\n                console.log('Slider changed to:', newTime);\n                // 애니메이션 중지\n                isPlayingRef.current = false;\n                setIsPlaying(false);\n                if (animationRef.current) {\n                  cancelAnimationFrame(animationRef.current);\n                  animationRef.current = null;\n                }\n                setAnimationTime(newTime);\n              },\n              className: \"w-32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: [Math.floor(animationTime), \"/\", results.timeSeriesData.length - 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 840,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium\",\n              children: \"\\uC790\\uCDE8\\uAE38\\uC774:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"10\",\n              max: \"500\",\n              value: trailLength,\n              onChange: e => {\n                const newLength = Number(e.target.value);\n                console.log('Trail length changed to:', newLength);\n                setTrailLength(newLength);\n              },\n              className: \"w-24\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: [trailLength, \"\\uB2E8\\uACC4\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 880,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 787,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-lg font-semibold mb-4\",\n            children: \"\\uD328\\uB4DC \\uC88C\\uD45C\\uACC4 (\\uB300\\uCE6D \\uC6E8\\uC774\\uD37C)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-full h-80 bg-gray-50 border\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"100%\",\n              height: \"100%\",\n              viewBox: `${-results.R_pad * 1.2} ${-results.R_pad * 1.2} ${results.R_pad * 2.4} ${results.R_pad * 2.4}`,\n              children: [/*#__PURE__*/_jsxDEV(\"g\", {\n                transform: `rotate(${currentData.pad_angle * 180 / Math.PI})`,\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"0\",\n                  cy: \"0\",\n                  r: results.R_pad,\n                  fill: \"lightgray\",\n                  opacity: \"0.3\",\n                  stroke: \"gray\",\n                  strokeWidth: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 895,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"0\",\n                  y1: \"0\",\n                  x2: results.R_pad * 0.8,\n                  y2: \"0\",\n                  stroke: \"gray\",\n                  strokeWidth: \"3\",\n                  opacity: \"0.6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 904,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: results.R_pad * 0.8,\n                  cy: \"0\",\n                  r: \"5\",\n                  fill: \"gray\",\n                  opacity: \"0.8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                x: \"0\",\n                y: results.R_pad + 30,\n                textAnchor: \"middle\",\n                fontSize: \"12\",\n                fill: \"gray\",\n                children: \"\\uD328\\uB4DC (\\uD68C\\uC804)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 907,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                transform: `translate(${currentData.wafer_center_x}, ${currentData.wafer_center_y})`,\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"0\",\n                  cy: \"0\",\n                  r: results.R_wafer,\n                  fill: \"none\",\n                  stroke: \"blue\",\n                  strokeWidth: \"2\",\n                  opacity: \"0.4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 911,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                  transform: `rotate(${currentData.wafer_angle * 180 / Math.PI})`,\n                  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"0\",\n                    y1: \"0\",\n                    x2: results.R_wafer * 0.8,\n                    y2: \"0\",\n                    stroke: \"blue\",\n                    strokeWidth: \"3\",\n                    opacity: \"0.7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 913,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: results.R_wafer * 0.8,\n                    cy: \"0\",\n                    r: \"4\",\n                    fill: \"blue\",\n                    opacity: \"0.9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 914,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 912,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 910,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                x: currentData.wafer_center_x,\n                y: currentData.wafer_center_y - results.R_wafer - 15,\n                textAnchor: \"middle\",\n                fontSize: \"10\",\n                fill: \"blue\",\n                children: \"\\uC6E8\\uC774\\uD37C1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 917,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                transform: `translate(${currentData.wafer_center_x}, ${-currentData.wafer_center_y})`,\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"0\",\n                  cy: \"0\",\n                  r: results.R_wafer,\n                  fill: \"none\",\n                  stroke: \"darkblue\",\n                  strokeWidth: \"2\",\n                  opacity: \"0.4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 921,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                  transform: `rotate(${currentData.wafer_angle * 180 / Math.PI})`,\n                  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"0\",\n                    y1: \"0\",\n                    x2: results.R_wafer * 0.8,\n                    y2: \"0\",\n                    stroke: \"darkblue\",\n                    strokeWidth: \"3\",\n                    opacity: \"0.7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 923,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: results.R_wafer * 0.8,\n                    cy: \"0\",\n                    r: \"4\",\n                    fill: \"darkblue\",\n                    opacity: \"0.9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 924,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 922,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 920,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                x: currentData.wafer_center_x,\n                y: -currentData.wafer_center_y + results.R_wafer + 25,\n                textAnchor: \"middle\",\n                fontSize: \"10\",\n                fill: \"darkblue\",\n                children: \"\\uC6E8\\uC774\\uD37C2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 927,\n                columnNumber: 17\n              }, this), (() => {\n                const has150mmCustom = customPoints.some(p => p.radius === 150 && p.angle === 0);\n                if (has150mmCustom) return null;\n                return defaultTrackingPoints.map(point => {\n                  const pointIndex = results.wafer_points.findIndex(p => p.customId === point.id);\n                  if (pointIndex === -1) return null;\n                  const startIndex = Math.max(0, currentTimeIndex - trailLength + 1);\n                  const trajectorySegments = results.padTrajectoryData[pointIndex].slice(startIndex, currentTimeIndex + 1).filter(trajPoint => {\n                    return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                  });\n                  if (trajectorySegments.length < 2) return null;\n                  return /*#__PURE__*/_jsxDEV(\"g\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                      d: createSmoothPath(trajectorySegments, true),\n                      fill: \"none\",\n                      stroke: \"blue\",\n                      strokeWidth: \"2\",\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      opacity: \"0.8\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 949,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: createSmoothPath(trajectorySegments, false),\n                      fill: \"none\",\n                      stroke: \"blue\",\n                      strokeWidth: \"2\",\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      opacity: \"0.8\",\n                      strokeDasharray: \"3,3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 958,\n                      columnNumber: 23\n                    }, this), (() => {\n                      const lowerTrajectorySegments = results.padTrajectoryDataLower[pointIndex].slice(startIndex, currentTimeIndex + 1).filter(trajPoint => {\n                        return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                      });\n                      if (lowerTrajectorySegments.length < 2) return null;\n                      return /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: createSmoothPath(lowerTrajectorySegments, false),\n                        fill: \"none\",\n                        stroke: \"darkblue\",\n                        strokeWidth: \"2\",\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        opacity: \"0.8\",\n                        strokeDasharray: \"5,5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 980,\n                        columnNumber: 27\n                      }, this);\n                    })(), currentTimeIndex < trajectorySegments.length && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                        cx: trajectorySegments[trajectorySegments.length - 1].x,\n                        cy: -trajectorySegments[trajectorySegments.length - 1].y,\n                        r: \"4\",\n                        fill: \"blue\",\n                        stroke: \"white\",\n                        strokeWidth: \"2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 994,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                        cx: trajectorySegments[trajectorySegments.length - 1].x,\n                        cy: trajectorySegments[trajectorySegments.length - 1].y,\n                        r: \"4\",\n                        fill: \"blue\",\n                        stroke: \"white\",\n                        strokeWidth: \"2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1002,\n                        columnNumber: 27\n                      }, this), (() => {\n                        const lowerTrajectorySegments = results.padTrajectoryDataLower[pointIndex].slice(0, currentTimeIndex + 1).filter(trajPoint => {\n                          return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                        });\n                        if (lowerTrajectorySegments.length === 0) return null;\n                        return /*#__PURE__*/_jsxDEV(\"circle\", {\n                          cx: lowerTrajectorySegments[lowerTrajectorySegments.length - 1].x,\n                          cy: lowerTrajectorySegments[lowerTrajectorySegments.length - 1].y,\n                          r: \"4\",\n                          fill: \"darkblue\",\n                          stroke: \"white\",\n                          strokeWidth: \"2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1022,\n                          columnNumber: 31\n                        }, this);\n                      })()]\n                    }, void 0, true)]\n                  }, `default-trail-${point.id}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 948,\n                    columnNumber: 21\n                  }, this);\n                });\n              })(), customPoints.map(point => {\n                const pointIndex = results.wafer_points.findIndex(p => p.customId === point.id);\n                if (pointIndex === -1) return null;\n                const trajectorySegments = results.padTrajectoryData[pointIndex].slice(0, currentTimeIndex + 1).filter(trajPoint => {\n                  return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                });\n                if (trajectorySegments.length < 2) return null;\n                return /*#__PURE__*/_jsxDEV(\"g\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: createSmoothPath(trajectorySegments, true),\n                    fill: \"none\",\n                    stroke: \"purple\",\n                    strokeWidth: \"3\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    opacity: \"1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1054,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: createSmoothPath(trajectorySegments, false),\n                    fill: \"none\",\n                    stroke: \"purple\",\n                    strokeWidth: \"3\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    opacity: \"1\",\n                    strokeDasharray: \"5,5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1063,\n                    columnNumber: 23\n                  }, this), (() => {\n                    const lowerTrajectorySegments = results.padTrajectoryDataLower[pointIndex].slice(0, currentTimeIndex + 1).filter(trajPoint => {\n                      return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                    });\n                    if (lowerTrajectorySegments.length < 2) return null;\n                    return /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: createSmoothPath(lowerTrajectorySegments, false),\n                      fill: \"none\",\n                      stroke: \"darkmagenta\",\n                      strokeWidth: \"3\",\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      opacity: \"1\",\n                      strokeDasharray: \"7,7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1085,\n                      columnNumber: 27\n                    }, this);\n                  })(), currentTimeIndex < trajectorySegments.length && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: trajectorySegments[trajectorySegments.length - 1].x,\n                      cy: -trajectorySegments[trajectorySegments.length - 1].y,\n                      r: \"6\",\n                      fill: \"purple\",\n                      stroke: \"darkmagenta\",\n                      strokeWidth: \"3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1099,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: trajectorySegments[trajectorySegments.length - 1].x,\n                      cy: trajectorySegments[trajectorySegments.length - 1].y,\n                      r: \"6\",\n                      fill: \"purple\",\n                      stroke: \"darkmagenta\",\n                      strokeWidth: \"3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1107,\n                      columnNumber: 27\n                    }, this), (() => {\n                      const lowerTrajectorySegments = results.padTrajectoryDataLower[pointIndex].slice(0, currentTimeIndex + 1).filter(trajPoint => {\n                        return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                      });\n                      if (lowerTrajectorySegments.length === 0) return null;\n                      return /*#__PURE__*/_jsxDEV(\"circle\", {\n                        cx: lowerTrajectorySegments[lowerTrajectorySegments.length - 1].x,\n                        cy: lowerTrajectorySegments[lowerTrajectorySegments.length - 1].y,\n                        r: \"6\",\n                        fill: \"darkmagenta\",\n                        stroke: \"white\",\n                        strokeWidth: \"3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1127,\n                        columnNumber: 31\n                      }, this);\n                    })()]\n                  }, void 0, true)]\n                }, `custom-trail-${point.id}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1053,\n                  columnNumber: 21\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"g\", {\n                transform: \"translate(-400, -350)\",\n                children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                  x: \"0\",\n                  y: \"0\",\n                  width: \"140\",\n                  height: \"100\",\n                  fill: \"white\",\n                  opacity: \"0.9\",\n                  stroke: \"gray\",\n                  strokeWidth: \"1\",\n                  rx: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1145,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"5\",\n                  y: \"15\",\n                  fontSize: \"10\",\n                  fontWeight: \"bold\",\n                  fill: \"black\",\n                  children: \"\\uCD94\\uC801\\uC810 \\uBC94\\uB840\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1146,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"5\",\n                  y1: \"25\",\n                  x2: \"25\",\n                  y2: \"25\",\n                  stroke: \"blue\",\n                  strokeWidth: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1147,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"30\",\n                  y: \"30\",\n                  fontSize: \"9\",\n                  fill: \"black\",\n                  children: \"150mm (\\uC0C1\\uB2E8)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1148,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"5\",\n                  y1: \"35\",\n                  x2: \"25\",\n                  y2: \"35\",\n                  stroke: \"darkblue\",\n                  strokeWidth: \"2\",\n                  strokeDasharray: \"5,5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1149,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"30\",\n                  y: \"40\",\n                  fontSize: \"9\",\n                  fill: \"black\",\n                  children: \"150mm (\\uD558\\uB2E8)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"5\",\n                  y1: \"50\",\n                  x2: \"25\",\n                  y2: \"50\",\n                  stroke: \"purple\",\n                  strokeWidth: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1151,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"30\",\n                  y: \"55\",\n                  fontSize: \"9\",\n                  fill: \"black\",\n                  children: \"\\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 (\\uC0C1\\uB2E8)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1152,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"5\",\n                  y1: \"60\",\n                  x2: \"25\",\n                  y2: \"60\",\n                  stroke: \"darkmagenta\",\n                  strokeWidth: \"3\",\n                  strokeDasharray: \"7,7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1153,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"30\",\n                  y: \"65\",\n                  fontSize: \"9\",\n                  fill: \"black\",\n                  children: \"\\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 (\\uD558\\uB2E8)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1154,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1144,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600 mt-2\",\n            children: \"\\uB300\\uCE6D \\uC6E8\\uC774\\uD37C\\uB4E4\\uC758 \\uCD94\\uC801\\uC810\\uC774 \\uD68C\\uC804 \\uD328\\uB4DC \\uC704\\uC5D0 \\uADF8\\uB9AC\\uB294 \\uC790\\uCDE8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-lg font-semibold mb-4\",\n            children: \"\\uC6E8\\uC774\\uD37C \\uC88C\\uD45C\\uACC4 (\\uD788\\uD2B8\\uB9F5)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-full h-80 bg-gray-50 border\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"100%\",\n              height: \"100%\",\n              viewBox: `${-results.R_wafer * 1.2} ${-results.R_wafer * 1.2} ${results.R_wafer * 2.4} ${results.R_wafer * 2.4}`,\n              children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"0\",\n                cy: \"0\",\n                r: results.R_wafer,\n                fill: \"none\",\n                stroke: \"blue\",\n                strokeWidth: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1166,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"0\",\n                y1: \"0\",\n                x2: results.R_wafer * 0.8,\n                y2: \"0\",\n                stroke: \"blue\",\n                strokeWidth: \"3\",\n                opacity: \"0.6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: results.R_wafer * 0.8,\n                cy: \"0\",\n                r: \"4\",\n                fill: \"blue\",\n                opacity: \"0.8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                x: \"0\",\n                y: results.R_wafer + 30,\n                textAnchor: \"middle\",\n                fontSize: \"12\",\n                fill: \"blue\",\n                children: \"\\uC6E8\\uC774\\uD37C (\\uACE0\\uC815)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1169,\n                columnNumber: 17\n              }, this), results.heatmap_wafer_points.map((point, i) => {\n                const currentDistance = currentTimeIndex < results.heatmap_trajectoryData[i].length ? results.heatmap_trajectoryData[i][currentTimeIndex].cumulative_distance : 0;\n                const allCurrentDistances = results.heatmap_wafer_points.map((_, idx) => currentTimeIndex < results.heatmap_trajectoryData[idx].length ? results.heatmap_trajectoryData[idx][currentTimeIndex].cumulative_distance : 0);\n                const maxCurrentDistance = Math.max(...allCurrentDistances);\n                const minCurrentDistance = Math.min(...allCurrentDistances);\n                const range = maxCurrentDistance - minCurrentDistance;\n                const intensity = range > 0 ? (currentDistance - minCurrentDistance) / range : 0;\n                const pointSize = Math.max(2, 2 + intensity * 6);\n                const hue = (1 - intensity) * 240;\n                const saturation = 80 + intensity * 20;\n                const lightness = 30 + intensity * 40;\n                return /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: point.x,\n                  cy: -point.y,\n                  r: pointSize,\n                  fill: `hsl(${hue}, ${saturation}%, ${lightness}%)`,\n                  opacity: \"0.8\",\n                  stroke: intensity > 0.8 ? 'white' : 'none',\n                  strokeWidth: \"0.5\"\n                }, `heatmap-${i}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1191,\n                  columnNumber: 21\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"0\",\n                cy: \"0\",\n                r: \"150\",\n                fill: \"none\",\n                stroke: \"lightgray\",\n                strokeWidth: \"2\",\n                strokeDasharray: \"5,5\",\n                opacity: \"0.7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                x: \"0\",\n                y: \"160\",\n                textAnchor: \"middle\",\n                fontSize: \"10\",\n                fill: \"gray\",\n                children: \"150mm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1205,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                transform: \"translate(120, -140)\",\n                children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                  x: \"0\",\n                  y: \"0\",\n                  width: \"100\",\n                  height: \"80\",\n                  fill: \"white\",\n                  opacity: \"0.9\",\n                  stroke: \"gray\",\n                  strokeWidth: \"1\",\n                  rx: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1209,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"5\",\n                  y: \"15\",\n                  fontSize: \"10\",\n                  fontWeight: \"bold\",\n                  fill: \"black\",\n                  children: \"\\uB204\\uC801\\uAC70\\uB9AC (mm)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"defs\", {\n                  children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n                    id: \"heatmapGradient\",\n                    x1: \"0%\",\n                    y1: \"0%\",\n                    x2: \"100%\",\n                    y2: \"0%\",\n                    children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                      offset: \"0%\",\n                      stopColor: \"hsl(240, 80%, 50%)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1214,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                      offset: \"50%\",\n                      stopColor: \"hsl(120, 80%, 50%)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1215,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                      offset: \"100%\",\n                      stopColor: \"hsl(0, 80%, 50%)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1216,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1213,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1212,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                  x: \"5\",\n                  y: \"20\",\n                  width: \"80\",\n                  height: \"10\",\n                  fill: \"url(#heatmapGradient)\",\n                  stroke: \"gray\",\n                  strokeWidth: \"0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1219,\n                  columnNumber: 19\n                }, this), (() => {\n                  const allCurrentDistances = results.heatmap_wafer_points.map((_, idx) => currentTimeIndex < results.heatmap_trajectoryData[idx].length ? results.heatmap_trajectoryData[idx][currentTimeIndex].cumulative_distance : 0);\n                  const maxDist = Math.max(...allCurrentDistances);\n                  const minDist = Math.min(...allCurrentDistances);\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"text\", {\n                      x: \"5\",\n                      y: \"45\",\n                      fontSize: \"8\",\n                      fill: \"black\",\n                      children: minDist.toFixed(1)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1231,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                      x: \"45\",\n                      y: \"45\",\n                      fontSize: \"8\",\n                      fill: \"black\",\n                      textAnchor: \"middle\",\n                      children: ((minDist + maxDist) / 2).toFixed(1)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1232,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                      x: \"85\",\n                      y: \"45\",\n                      fontSize: \"8\",\n                      fill: \"black\",\n                      textAnchor: \"end\",\n                      children: maxDist.toFixed(1)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1233,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                      x: \"5\",\n                      y: \"70\",\n                      fontSize: \"8\",\n                      fill: \"gray\",\n                      children: [\"\\uC2DC\\uAC04: \", currentData.time.toFixed(1), \"s\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1234,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true);\n                })()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1208,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1165,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600 mt-2\",\n            children: \"\\uACE0\\uC815\\uB41C \\uC6E8\\uC774\\uD37C \\uC704 300\\uAC1C \\uC810\\uC758 \\uB204\\uC801 \\uC774\\uB3D9\\uAC70\\uB9AC \\uD788\\uD2B8\\uB9F5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-lg font-semibold mb-4\",\n            children: \"\\uC6E8\\uC774\\uD37C \\uC88C\\uD45C\\uACC4 (\\uD328\\uB4DC 200mm\\uC810 \\uC790\\uCDE8)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-full h-80 bg-gray-50 border\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"100%\",\n              height: \"100%\",\n              viewBox: `${-results.R_wafer * 1.2} ${-results.R_wafer * 1.2} ${results.R_wafer * 2.4} ${results.R_wafer * 2.4}`,\n              children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"0\",\n                cy: \"0\",\n                r: results.R_wafer,\n                fill: \"none\",\n                stroke: \"blue\",\n                strokeWidth: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1249,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"0\",\n                y1: \"0\",\n                x2: results.R_wafer * 0.8,\n                y2: \"0\",\n                stroke: \"blue\",\n                strokeWidth: \"3\",\n                opacity: \"0.6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: results.R_wafer * 0.8,\n                cy: \"0\",\n                r: \"4\",\n                fill: \"blue\",\n                opacity: \"0.8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                x: \"0\",\n                y: results.R_wafer + 30,\n                textAnchor: \"middle\",\n                fontSize: \"12\",\n                fill: \"blue\",\n                children: \"\\uC6E8\\uC774\\uD37C (\\uACE0\\uC815)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1252,\n                columnNumber: 17\n              }, this), (() => {\n                const padPoint = {\n                  x: 200,\n                  y: 0\n                };\n\n                // 더 조밀한 시간 간격으로 궤적 생성\n                const waferTrajectory = [];\n                const interpolation_factor = 5; // 5배 더 조밀하게\n\n                for (let i = 0; i <= currentTimeIndex; i++) {\n                  const data = results.timeSeriesData[i];\n                  const cos_p = Math.cos(data.pad_angle);\n                  const sin_p = Math.sin(data.pad_angle);\n                  const global_x = padPoint.x * cos_p - padPoint.y * sin_p;\n                  const global_y = padPoint.x * sin_p + padPoint.y * cos_p;\n                  const rel_x = global_x - data.wafer_center_x;\n                  const rel_y = global_y - data.wafer_center_y;\n                  const cos_w = Math.cos(-data.wafer_angle);\n                  const sin_w = Math.sin(-data.wafer_angle);\n                  const wafer_x = rel_x * cos_w - rel_y * sin_w;\n                  const wafer_y = rel_x * sin_w + rel_y * cos_w;\n                  waferTrajectory.push({\n                    x: wafer_x,\n                    y: wafer_y,\n                    time: data.time\n                  });\n\n                  // 다음 시간 스텝과의 중간점들 추가 (보간)\n                  if (i < currentTimeIndex && i < results.timeSeriesData.length - 1) {\n                    const nextData = results.timeSeriesData[i + 1];\n                    for (let j = 1; j < interpolation_factor; j++) {\n                      const t = j / interpolation_factor;\n                      const interpolatedPadAngle = data.pad_angle + (nextData.pad_angle - data.pad_angle) * t;\n                      const interpolatedWaferAngle = data.wafer_angle + (nextData.wafer_angle - data.wafer_angle) * t;\n                      const interpolatedWaferCenterX = data.wafer_center_x + (nextData.wafer_center_x - data.wafer_center_x) * t;\n                      const interpolatedWaferCenterY = data.wafer_center_y + (nextData.wafer_center_y - data.wafer_center_y) * t;\n                      const cos_p_interp = Math.cos(interpolatedPadAngle);\n                      const sin_p_interp = Math.sin(interpolatedPadAngle);\n                      const global_x_interp = padPoint.x * cos_p_interp - padPoint.y * sin_p_interp;\n                      const global_y_interp = padPoint.x * sin_p_interp + padPoint.y * cos_p_interp;\n                      const rel_x_interp = global_x_interp - interpolatedWaferCenterX;\n                      const rel_y_interp = global_y_interp - interpolatedWaferCenterY;\n                      const cos_w_interp = Math.cos(-interpolatedWaferAngle);\n                      const sin_w_interp = Math.sin(-interpolatedWaferAngle);\n                      const wafer_x_interp = rel_x_interp * cos_w_interp - rel_y_interp * sin_w_interp;\n                      const wafer_y_interp = rel_x_interp * sin_w_interp + rel_y_interp * cos_w_interp;\n                      waferTrajectory.push({\n                        x: wafer_x_interp,\n                        y: wafer_y_interp,\n                        time: data.time + (nextData.time - data.time) * t\n                      });\n                    }\n                  }\n                }\n\n                // 웨이퍼 내부에 있는 점들만 필터링\n                const filteredTrajectory = waferTrajectory.filter(point => Math.sqrt(point.x * point.x + point.y * point.y) <= results.R_wafer);\n                if (filteredTrajectory.length < 2) return null;\n\n                // 고도화된 부드러운 곡선 생성 함수\n                const createSmoothWaferPath = points => {\n                  if (points.length < 2) return '';\n\n                  // B-스플라인 스무딩을 위한 추가 보간\n                  const smoothedPoints = [];\n                  for (let i = 0; i < points.length - 1; i++) {\n                    const current = points[i];\n                    const next = points[i + 1];\n                    smoothedPoints.push(current);\n\n                    // 중간에 2개의 보간점 추가\n                    for (let j = 1; j <= 2; j++) {\n                      const t = j / 3;\n                      const interpolated = {\n                        x: current.x + (next.x - current.x) * t,\n                        y: current.y + (next.y - current.y) * t\n                      };\n                      smoothedPoints.push(interpolated);\n                    }\n                  }\n                  smoothedPoints.push(points[points.length - 1]);\n\n                  // 3차 베지어 곡선으로 부드러운 경로 생성\n                  let path = `M ${smoothedPoints[0].x} ${-smoothedPoints[0].y}`;\n                  for (let i = 1; i < smoothedPoints.length; i++) {\n                    const prev = smoothedPoints[i - 1];\n                    const curr = smoothedPoints[i];\n                    if (i === 1) {\n                      // 첫 번째 세그먼트\n                      path += ` Q ${prev.x} ${-prev.y} ${curr.x} ${-curr.y}`;\n                    } else {\n                      // 후속 세그먼트는 3차 베지어\n                      const prev2 = smoothedPoints[i - 2];\n                      const cp1x = prev.x + (curr.x - prev2.x) * 0.3;\n                      const cp1y = prev.y + (curr.y - prev2.y) * 0.3;\n                      const cp2x = curr.x - (curr.x - prev.x) * 0.3;\n                      const cp2y = curr.y - (curr.y - prev.y) * 0.3;\n                      path += ` C ${cp1x} ${-cp1y} ${cp2x} ${-cp2y} ${curr.x} ${-curr.y}`;\n                    }\n                  }\n                  return path;\n                };\n                return /*#__PURE__*/_jsxDEV(\"g\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: createSmoothWaferPath(filteredTrajectory),\n                    fill: \"none\",\n                    stroke: \"darkorange\",\n                    strokeWidth: \"3\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    opacity: \"0.8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1367,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: createSmoothWaferPath(filteredTrajectory),\n                    fill: \"none\",\n                    stroke: \"orange\",\n                    strokeWidth: \"1.5\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    opacity: \"0.6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1376,\n                    columnNumber: 23\n                  }, this), filteredTrajectory.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: filteredTrajectory[filteredTrajectory.length - 1].x,\n                      cy: -filteredTrajectory[filteredTrajectory.length - 1].y,\n                      r: \"6\",\n                      fill: \"darkorange\",\n                      stroke: \"white\",\n                      strokeWidth: \"3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1388,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: filteredTrajectory[0].x,\n                      cy: -filteredTrajectory[0].y,\n                      r: \"4\",\n                      fill: \"red\",\n                      stroke: \"white\",\n                      strokeWidth: \"2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1396,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true)]\n                }, \"pad-200mm-trail\", true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1366,\n                  columnNumber: 21\n                }, this);\n              })(), /*#__PURE__*/_jsxDEV(\"g\", {\n                transform: \"translate(120, -120)\",\n                children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                  x: \"0\",\n                  y: \"0\",\n                  width: \"120\",\n                  height: \"60\",\n                  fill: \"white\",\n                  opacity: \"0.9\",\n                  stroke: \"gray\",\n                  strokeWidth: \"1\",\n                  rx: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1412,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"5\",\n                  y: \"15\",\n                  fontSize: \"10\",\n                  fontWeight: \"bold\",\n                  fill: \"black\",\n                  children: \"\\uD328\\uB4DC\\u2192\\uC6E8\\uC774\\uD37C \\uC790\\uCDE8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1413,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"5\",\n                  y1: \"25\",\n                  x2: \"25\",\n                  y2: \"25\",\n                  stroke: \"darkorange\",\n                  strokeWidth: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1414,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"30\",\n                  y: \"30\",\n                  fontSize: \"9\",\n                  fill: \"black\",\n                  children: \"\\uD328\\uB4DC 200mm\\uC810\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1415,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"15\",\n                  cy: \"40\",\n                  r: \"3\",\n                  fill: \"red\",\n                  stroke: \"white\",\n                  strokeWidth: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1416,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"25\",\n                  y: \"45\",\n                  fontSize: \"9\",\n                  fill: \"black\",\n                  children: \"\\uC2DC\\uC791\\uC810\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1417,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"15\",\n                  cy: \"50\",\n                  r: \"4\",\n                  fill: \"darkorange\",\n                  stroke: \"white\",\n                  strokeWidth: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1418,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: \"25\",\n                  y: \"55\",\n                  fontSize: \"9\",\n                  fill: \"black\",\n                  children: \"\\uD604\\uC7AC\\uC704\\uCE58\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1419,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1248,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600 mt-2\",\n            children: \"\\uD328\\uB4DC \\uC704 200mm \\uC9C0\\uC810\\uC774 \\uACE0\\uC815\\uB41C \\uC6E8\\uC774\\uD37C \\uC704\\uC5D0\\uC11C \\uADF8\\uB9AC\\uB294 \\uC790\\uCDE8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 887,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC0AC\\uC6A9\\uBC95:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1430,\n                columnNumber: 18\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1430,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 \\uC7AC\\uC0DD/\\uC77C\\uC2DC\\uC815\\uC9C0/\\uB9AC\\uC14B \\uBC84\\uD2BC\\uC73C\\uB85C \\uC560\\uB2C8\\uBA54\\uC774\\uC158 \\uC81C\\uC5B4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1431,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 \\uC2DC\\uAC04 \\uC2AC\\uB77C\\uC774\\uB354\\uB85C \\uD2B9\\uC815 \\uC2DC\\uC810\\uC73C\\uB85C \\uC774\\uB3D9 \\uAC00\\uB2A5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1432,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 \\uC18D\\uB3C4 \\uC870\\uC808\\uB85C \\uC138\\uBC00\\uD55C \\uAD00\\uCC30 \\uB610\\uB294 \\uBE60\\uB978 \\uAC1C\\uC694 \\uD655\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1433,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1429,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uADF8\\uB798\\uD504 \\uC124\\uBA85:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1436,\n                columnNumber: 18\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1436,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC88C\\uCE21:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1437,\n                columnNumber: 20\n              }, this), \" \\uB300\\uCE6D \\uC6E8\\uC774\\uD37C\\uC758 \\uCD94\\uC801\\uC810\\uC774 \\uD328\\uB4DC\\uC5D0 \\uADF8\\uB9AC\\uB294 \\uC790\\uCDE8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC911\\uC559:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1438,\n                columnNumber: 20\n              }, this), \" \\uACE0\\uC815\\uB41C \\uC6E8\\uC774\\uD37C \\uC704 300\\uAC1C \\uC810\\uC758 \\uB204\\uC801 \\uC774\\uB3D9\\uAC70\\uB9AC \\uD788\\uD2B8\\uB9F5\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1438,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC6B0\\uCE21:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1439,\n                columnNumber: 20\n              }, this), \" \\uD328\\uB4DC \\uC704 200mm \\uC9C0\\uC810\\uC774 \\uC6E8\\uC774\\uD37C\\uC5D0 \\uADF8\\uB9AC\\uB294 \\uC790\\uCDE8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1439,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1435,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1428,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 785,\n      columnNumber: 7\n    }, this);\n  };\n\n  // 누적 거리 분석\n  const CumulativeDistanceAnalysis = () => {\n    if (!results || selectedPoints.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-white border rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"\\uC120\\uD0DD\\uB41C \\uC810\\uB4E4\\uC758 \\uB204\\uC801 \\uC774\\uB3D9\\uAC70\\uB9AC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1451,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"\\uC810\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1452,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1450,\n      columnNumber: 7\n    }, this);\n    const chartData = results.time_steps.map((time, i) => {\n      const dataPoint = {\n        time\n      };\n      selectedPoints.forEach(pointIndex => {\n        if (i < results.trajectoryData[pointIndex].length) {\n          dataPoint[`Point_${pointIndex}`] = results.trajectoryData[pointIndex][i].cumulative_distance;\n        }\n      });\n      return dataPoint;\n    });\n    const colors = ['#8884d8', '#82ca9d', '#ffc658', '#ff7300', '#413ea0'];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-white border rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"\\uC120\\uD0DD\\uB41C \\uC810\\uB4E4\\uC758 \\uB204\\uC801 \\uC774\\uB3D9\\uAC70\\uB9AC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1470,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: 400,\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: chartData,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3,3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1473,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"time\",\n            label: {\n              value: '시간 (s)',\n              position: 'insideBottom',\n              offset: -10\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            label: {\n              value: '누적 거리 (mm)',\n              angle: -90,\n              position: 'insideLeft'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1478,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1481,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1482,\n            columnNumber: 13\n          }, this), selectedPoints.map((pointIndex, i) => /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: `Point_${pointIndex}`,\n            stroke: colors[i % colors.length],\n            strokeWidth: 2,\n            name: `점 ${pointIndex} (${results.wafer_points[pointIndex].zone})`\n          }, pointIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1484,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1472,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1471,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1469,\n      columnNumber: 7\n    }, this);\n  };\n\n  // 뷰 선택 탭\n  const ViewTabs = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-wrap gap-2 mb-4\",\n    children: [{\n      id: 'trajectory',\n      name: '실시간 애니메이션'\n    }, {\n      id: 'cumulative',\n      name: '누적 거리 분석'\n    }].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentView(tab.id),\n      className: `px-3 py-2 rounded-md text-sm font-medium ${currentView === tab.id ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n      children: tab.name\n    }, tab.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1506,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1501,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-center mb-8\",\n      children: \"\\uACE0\\uB3C4\\uD654\\uB41C \\uC6E8\\uC774\\uD37C \\uD3F4\\uB9AC\\uC2F1 \\uBD84\\uC11D \\uC2DC\\uBBAC\\uB808\\uC774\\uD130\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1523,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(ControlPanel, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1526,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ViewTabs, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1529,\n          columnNumber: 11\n        }, this), isSimulating && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-96 bg-gray-100 border rounded-lg flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1534,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"\\uACE0\\uB3C4\\uD654\\uB41C \\uC2DC\\uBBAC\\uB808\\uC774\\uC158 \\uC2E4\\uD589 \\uC911...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1535,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1533,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1532,\n          columnNumber: 13\n        }, this), !isSimulating && results && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [currentView === 'trajectory' && /*#__PURE__*/_jsxDEV(AnimationView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1542,\n            columnNumber: 48\n          }, this), currentView === 'cumulative' && /*#__PURE__*/_jsxDEV(CumulativeDistanceAnalysis, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1543,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1541,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1528,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1525,\n      columnNumber: 7\n    }, this), (selectedPoints.length > 0 || userSelectedPoints.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-2\",\n        children: \"\\uC120\\uD0DD\\uB41C \\uC810\\uB4E4 \\uC815\\uBCF4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1552,\n        columnNumber: 11\n      }, this), selectedPoints.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-blue-600 mb-2\",\n          children: [\"\\uBD84\\uC11D\\uC6A9 \\uC120\\uD0DD \\uC810\\uB4E4 (\", selectedPoints.length, \"/5)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1556,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-5 gap-4\",\n          children: selectedPoints.map(pointIndex => {\n            const point = results === null || results === void 0 ? void 0 : results.wafer_points[pointIndex];\n            const finalDistance = results === null || results === void 0 ? void 0 : results.finalDistances[pointIndex];\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 p-3 rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: [\"\\uC810 \", pointIndex]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1563,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uC704\\uCE58: (\", point === null || point === void 0 ? void 0 : point.x.toFixed(1), \", \", point === null || point === void 0 ? void 0 : point.y.toFixed(1), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1564,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uAD6C\\uC5ED: \", point === null || point === void 0 ? void 0 : point.zone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1565,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uBC18\\uC9C0\\uB984: \", point === null || point === void 0 ? void 0 : point.r.toFixed(1), \"mm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1566,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uCD5C\\uC885 \\uAC70\\uB9AC: \", finalDistance === null || finalDistance === void 0 ? void 0 : finalDistance.toFixed(2), \"mm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1567,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handlePointSelection(pointIndex),\n                className: \"mt-2 text-xs bg-red-500 text-white px-2 py-1 rounded\",\n                children: \"\\uC81C\\uAC70\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1568,\n                columnNumber: 23\n              }, this)]\n            }, pointIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1562,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1557,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1555,\n        columnNumber: 13\n      }, this), userSelectedPoints.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-orange-600 mb-2\",\n          children: [\"\\uC0AC\\uC6A9\\uC790 \\uC120\\uD0DD \\uC810\\uB4E4 (\", userSelectedPoints.length, \"/10)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1583,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-5 gap-4\",\n          children: userSelectedPoints.map(pointIndex => {\n            const point = results === null || results === void 0 ? void 0 : results.wafer_points[pointIndex];\n            const finalDistance = results === null || results === void 0 ? void 0 : results.finalDistances[pointIndex];\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-orange-50 p-3 rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: [\"\\uC810 \", pointIndex]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1590,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uC704\\uCE58: (\", point === null || point === void 0 ? void 0 : point.x.toFixed(1), \", \", point === null || point === void 0 ? void 0 : point.y.toFixed(1), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1591,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uAD6C\\uC5ED: \", point === null || point === void 0 ? void 0 : point.zone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1592,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uBC18\\uC9C0\\uB984: \", point === null || point === void 0 ? void 0 : point.r.toFixed(1), \"mm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1593,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uCD5C\\uC885 \\uAC70\\uB9AC: \", finalDistance === null || finalDistance === void 0 ? void 0 : finalDistance.toFixed(2), \"mm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1594,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setIsSelectingMode(true);\n                  handlePointSelection(pointIndex);\n                },\n                className: \"mt-2 text-xs bg-red-500 text-white px-2 py-1 rounded\",\n                children: \"\\uC81C\\uAC70\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1595,\n                columnNumber: 23\n              }, this)]\n            }, pointIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1589,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1584,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1582,\n        columnNumber: 13\n      }, this), customPoints.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-purple-600 mb-2\",\n          children: [\"\\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 \\uC810\\uB4E4 (\", customPoints.length, \"\\uAC1C)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1613,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-5 gap-4\",\n          children: customPoints.map(point => {\n            const pointIndex = results === null || results === void 0 ? void 0 : results.wafer_points.findIndex(p => p.customId === point.id);\n            const finalDistance = pointIndex >= 0 ? results === null || results === void 0 ? void 0 : results.finalDistances[pointIndex] : 0;\n            const x = point.radius * Math.cos(point.angle * Math.PI / 180);\n            const y = point.radius * Math.sin(point.angle * Math.PI / 180);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-purple-50 p-3 rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: [\"\\uC0AC\\uC6A9\\uC790 \\uC810 \", point.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1622,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uC704\\uCE58: (\", x.toFixed(1), \", \", y.toFixed(1), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1623,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uBC18\\uC9C0\\uB984: \", point.radius, \"mm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1624,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uAC01\\uB3C4: \", point.angle, \"\\xB0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1625,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"\\uCD5C\\uC885 \\uAC70\\uB9AC: \", finalDistance === null || finalDistance === void 0 ? void 0 : finalDistance.toFixed(2), \"mm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1626,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeCustomPoint(point.id),\n                className: \"mt-2 text-xs bg-red-500 text-white px-2 py-1 rounded\",\n                children: \"\\uC81C\\uAC70\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1627,\n                columnNumber: 23\n              }, this)]\n            }, point.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1621,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1614,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1612,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1551,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1522,\n    columnNumber: 5\n  }, this);\n};\n_s(AdvancedWaferAnalysisSimulator, \"FJHg827RgI0EPrS5vRpIqkRDiHk=\");\n_c = AdvancedWaferAnalysisSimulator;\nexport default AdvancedWaferAnalysisSimulator;\nvar _c;\n$RefreshReg$(_c, \"AdvancedWaferAnalysisSimulator\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useRef","useCallback","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","AdvancedWaferAnalysisSimulator","_s","params","setParams","R_wafer","R_pad","rpm_pad","rpm_wafer","R_c","time_total","num_time_steps","oscillation_enabled","oscillation_amplitude","oscillation_speed","num_wafer_grid","heatmap_grid_points","currentView","setCurrentView","isSimulating","setIsSimulating","results","setResults","selectedPoints","setSelectedPoints","userSelectedPoints","setUserSelectedPoints","customPoints","setCustomPoints","newPointRadius","setNewPointRadius","newPointAngle","setNewPointAngle","isSelectingMode","setIsSelectingMode","animationTime","setAnimationTime","isPlaying","setIsPlaying","animationSpeed","setAnimationSpeed","trailLength","setTrailLength","defaultTrackingPoints","id","radius","angle","label","animationRef","isPlayingRef","runSimulation","setTimeout","omega_pad","Math","PI","omega_wafer","time_steps","Array","from","length","_","i","dt","wafer_x_oscillation","wafer_vx_oscillation","freq","map","t","sin","cos","fill","wafer_points","radial_samples","ceil","sqrt","angular_samples","push","x","y","r","theta","zone","num_theta","max","floor","j","heatmap_wafer_points","target_points","grid_size","cell_size","distance_from_center","atan2","shuffled","random","slice","additional_points","has150mmCustom","some","p","filteredDefaultPoints","allTrackingPoints","forEach","point","isCustom","isDefault","customId","num_actual_grid","wafer_area","cell_area","heatmap_trajectoryData","heatmap_cumulativeDistance","timeSeriesData","trajectoryData","cumulativeDistance","padTrajectoryData","padTrajectoryDataLower","k","pad_theta","wafer_theta","wafer_xc","wafer_yc","cos_w","sin_w","cos_p","sin_p","timeStepData","time","wafer_center_x","wafer_center_y","wafer_angle","pad_angle","points","wx","wy","abs_x","abs_y","pad_local_x","pad_local_y","v_center_x","v_center_y","v_local_x","v_local_y","v_gx","v_gy","v_pad_x","v_pad_y","v_rel_x","v_rel_y","speed_rel","lower_wafer_center_x","lower_wafer_center_y","lower_abs_x","lower_abs_y","lower_pad_local_x","lower_pad_local_y","local_x","local_y","speed","cumulative_distance","finalDistances","maxDistance","minDistance","min","avgDistance","reduce","a","b","uniformityIndex","statistics","addCustomPoint","newPoint","Date","now","prev","removeCustomPoint","pointId","filter","toggleAnimation","console","log","current","cancelAnimationFrame","_results$timeSeriesDa","hasResults","hasTimeSeriesData","timeSeriesDataLength","animate","next","maxTime","requestAnimationFrame","resetAnimation","handlePointSelection","pointIndex","includes","ControlPanel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","Number","target","checked","index","isSelected","onClick","AnimationView","currentTimeIndex","currentData","createSmoothPath","isUpper","interpolatedPoints","interpolated","path","curr","prev2","cp1x","cp1y","cp2x","cp2y","toFixed","newSpeed","newTime","newLength","width","height","viewBox","transform","cx","cy","opacity","stroke","strokeWidth","x1","y1","x2","y2","textAnchor","fontSize","findIndex","startIndex","trajectorySegments","trajPoint","d","strokeLinecap","strokeLinejoin","strokeDasharray","lowerTrajectorySegments","rx","fontWeight","currentDistance","allCurrentDistances","idx","maxCurrentDistance","minCurrentDistance","range","intensity","pointSize","hue","saturation","lightness","offset","stopColor","maxDist","minDist","padPoint","waferTrajectory","interpolation_factor","data","global_x","global_y","rel_x","rel_y","wafer_x","wafer_y","nextData","interpolatedPadAngle","interpolatedWaferAngle","interpolatedWaferCenterX","interpolatedWaferCenterY","cos_p_interp","sin_p_interp","global_x_interp","global_y_interp","rel_x_interp","rel_y_interp","cos_w_interp","sin_w_interp","wafer_x_interp","wafer_y_interp","filteredTrajectory","createSmoothWaferPath","smoothedPoints","CumulativeDistanceAnalysis","chartData","dataPoint","colors","dataKey","position","name","ViewTabs","tab","finalDistance","_c","$RefreshReg$"],"sources":["C:/Projects/cmp_sliding_simulator/src/components/cmp_sliding_simulator.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef, useCallback } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\nconst AdvancedWaferAnalysisSimulator = () => {\n  // 시뮬레이션 파라미터\n  const [params, setParams] = useState({\n    R_wafer: 150,\n    R_pad: 400,\n    rpm_pad: 31,\n    rpm_wafer: 30,\n    R_c: 225,\n    time_total: 150,\n    num_time_steps: 1500,\n    oscillation_enabled: true,\n    oscillation_amplitude: 40,\n    oscillation_speed: 300/60,\n    num_wafer_grid: 400,\n    heatmap_grid_points: 300\n  });\n\n  const [currentView, setCurrentView] = useState('trajectory');\n  const [isSimulating, setIsSimulating] = useState(false);\n  const [results, setResults] = useState(null);\n  const [selectedPoints, setSelectedPoints] = useState([]);\n  const [userSelectedPoints, setUserSelectedPoints] = useState([]);\n  const [customPoints, setCustomPoints] = useState([]);\n  const [newPointRadius, setNewPointRadius] = useState(75);\n  const [newPointAngle, setNewPointAngle] = useState(0);\n  const [isSelectingMode, setIsSelectingMode] = useState(false);\n  const [animationTime, setAnimationTime] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [animationSpeed, setAnimationSpeed] = useState(1.0);\n  const [trailLength, setTrailLength] = useState(100); // 이동자취 길이 (시간 단위)\n\n  // 기본 추적 점들 (150mm 점 1개만)\n  const defaultTrackingPoints = [\n    { id: 'r150', radius: 150, angle: 0, label: '150mm' }\n  ];\n\n  const animationRef = useRef();\n  const isPlayingRef = useRef(false); // 현재 재생 상태를 ref로 관리\n\n  // 시뮬레이션 계산\n  const runSimulation = useMemo(() => {\n    return () => {\n      setIsSimulating(true);\n      \n      setTimeout(() => {\n        const {\n          R_wafer, R_pad, rpm_pad, rpm_wafer, R_c, time_total, \n          num_time_steps, oscillation_enabled, oscillation_amplitude, \n          oscillation_speed, num_wafer_grid\n        } = params;\n\n        // 각속도 계산\n        const omega_pad = (rpm_pad * 2 * Math.PI) / 60;\n        const omega_wafer = (rpm_wafer * 2 * Math.PI) / 60;\n\n        // 시간 스텝\n        const time_steps = Array.from({length: num_time_steps}, (_, i) => \n          (i * time_total) / (num_time_steps - 1)\n        );\n        const dt = time_steps[1] - time_steps[0];\n\n        // 진동 계산\n        let wafer_x_oscillation, wafer_vx_oscillation;\n        if (oscillation_enabled) {\n          const freq = oscillation_speed / (2 * oscillation_amplitude);\n          wafer_x_oscillation = time_steps.map(t => \n            oscillation_amplitude * Math.sin(2 * Math.PI * freq * t)\n          );\n          wafer_vx_oscillation = time_steps.map(t => \n            (2 * Math.PI * freq) * oscillation_amplitude * Math.cos(2 * Math.PI * freq * t)\n          );\n        } else {\n          wafer_x_oscillation = new Array(num_time_steps).fill(0);\n          wafer_vx_oscillation = new Array(num_time_steps).fill(0);\n        }\n\n        // 웨이퍼 격자 생성\n        const wafer_points = [];\n        const radial_samples = Math.ceil(Math.sqrt(num_wafer_grid / 4));\n        const angular_samples = Math.ceil(num_wafer_grid / radial_samples);\n        \n        wafer_points.push({x: 0, y: 0, r: 0, theta: 0, zone: 'center'});\n        \n        for (let i = 1; i <= radial_samples; i++) {\n          const r = (i / radial_samples) * R_wafer;\n          const num_theta = Math.max(6, Math.floor(angular_samples * i / radial_samples));\n          \n          for (let j = 0; j < num_theta; j++) {\n            const theta = (2 * Math.PI * j) / num_theta;\n            const x = r * Math.cos(theta);\n            const y = r * Math.sin(theta);\n            \n            let zone = 'outer';\n            if (r < R_wafer * 0.3) zone = 'inner';\n            else if (r < R_wafer * 0.7) zone = 'middle';\n            \n            wafer_points.push({x, y, r, theta, zone});\n          }\n        }\n\n        // 히트맵용 웨이퍼 점들 (전체 면적에 골고루 분배)\n        const heatmap_wafer_points = [];\n        const target_points = 300;\n        \n        // 균등 분포를 위한 그리드 기반 점 생성\n        const grid_size = Math.ceil(Math.sqrt(target_points * 4 / Math.PI)); // 정사각형 그리드에서 원형 영역 추출\n        const cell_size = (2 * R_wafer) / grid_size;\n        \n        for (let i = 0; i < grid_size; i++) {\n          for (let j = 0; j < grid_size; j++) {\n            // 그리드 셀 중심 좌표\n            const x = (i + 0.5) * cell_size - R_wafer;\n            const y = (j + 0.5) * cell_size - R_wafer;\n            \n            // 웨이퍼 내부에 있는지 확인\n            const distance_from_center = Math.sqrt(x * x + y * y);\n            if (distance_from_center <= R_wafer) {\n              const r = distance_from_center;\n              const theta = Math.atan2(y, x);\n              \n              let zone = 'outer';\n              if (r < R_wafer * 0.3) zone = 'inner';\n              else if (r < R_wafer * 0.7) zone = 'middle';\n              \n              heatmap_wafer_points.push({x, y, r, theta, zone});\n            }\n          }\n        }\n        \n        // 목표 점수에 맞게 조정 (너무 많으면 랜덤 샘플링, 적으면 추가 생성)\n        if (heatmap_wafer_points.length > target_points) {\n          // Fisher-Yates 셔플을 사용한 랜덤 샘플링\n          const shuffled = [...heatmap_wafer_points];\n          for (let i = shuffled.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n          }\n          heatmap_wafer_points.length = 0;\n          heatmap_wafer_points.push(...shuffled.slice(0, target_points));\n        } else if (heatmap_wafer_points.length < target_points) {\n          // 부족한 점수만큼 추가 생성 (균등 분포)\n          const additional_points = target_points - heatmap_wafer_points.length;\n          for (let i = 0; i < additional_points; i++) {\n            const r = Math.sqrt(Math.random()) * R_wafer; // 균등 분포를 위한 제곱근\n            const theta = Math.random() * 2 * Math.PI;\n            const x = r * Math.cos(theta);\n            const y = r * Math.sin(theta);\n            \n            let zone = 'outer';\n            if (r < R_wafer * 0.3) zone = 'inner';\n            else if (r < R_wafer * 0.7) zone = 'middle';\n            \n            heatmap_wafer_points.push({x, y, r, theta, zone});\n          }\n        }\n\n        // 추적 점들 추가 (150mm 점은 사용자 정의에서 선택된 경우에만 추가)\n        const has150mmCustom = customPoints.some(p => p.radius === 150 && p.angle === 0);\n        const filteredDefaultPoints = has150mmCustom ? [] : defaultTrackingPoints;\n        const allTrackingPoints = [...filteredDefaultPoints, ...customPoints];\n        \n        allTrackingPoints.forEach(point => {\n          const x = point.radius * Math.cos(point.angle * Math.PI / 180);\n          const y = point.radius * Math.sin(point.angle * Math.PI / 180);\n          if (Math.sqrt(x * x + y * y) <= R_wafer) {\n            wafer_points.push({\n              x: x, \n              y: y, \n              r: point.radius, \n              theta: point.angle * Math.PI / 180, \n              zone: point.id ? 'default' : 'custom',\n              isCustom: !point.id,\n              isDefault: !!point.id,\n              customId: point.id,\n              label: point.label || `사용자점 ${point.id}`\n            });\n          }\n        });\n\n        const num_actual_grid = wafer_points.length;\n        const wafer_area = Math.PI * R_wafer * R_wafer;\n        const cell_area = wafer_area / num_actual_grid;\n\n        // 데이터 저장소\n        const heatmap_trajectoryData = heatmap_wafer_points.map(() => []);\n        const heatmap_cumulativeDistance = heatmap_wafer_points.map(() => 0);\n        const timeSeriesData = [];\n        const trajectoryData = wafer_points.map(() => []);\n        const cumulativeDistance = wafer_points.map(() => 0);\n        const padTrajectoryData = wafer_points.map(() => []);\n        const padTrajectoryDataLower = wafer_points.map(() => []); // 하단 웨이퍼 전용\n\n        // 시뮬레이션 메인 루프\n        for (let k = 0; k < num_time_steps; k++) {\n          const t = time_steps[k];\n          const pad_theta = omega_pad * t;\n          const wafer_theta = omega_wafer * t;\n          \n          const wafer_xc = R_c + wafer_x_oscillation[k];\n          const wafer_yc = 0.0;\n          \n          const cos_w = Math.cos(wafer_theta);\n          const sin_w = Math.sin(wafer_theta);\n          const cos_p = Math.cos(-pad_theta);\n          const sin_p = Math.sin(-pad_theta);\n\n          const timeStepData = {\n            time: t,\n            wafer_center_x: wafer_xc,\n            wafer_center_y: wafer_yc,\n            wafer_angle: wafer_theta,\n            pad_angle: pad_theta,\n            points: []\n          };\n\n          // 일반 웨이퍼 점들 계산\n          for (let i = 0; i < num_actual_grid; i++) {\n            const {x: wx, y: wy, zone} = wafer_points[i];\n            \n            const abs_x = wafer_xc + (wx * cos_w - wy * sin_w);\n            const abs_y = wafer_yc + (wx * sin_w + wy * cos_w);\n            \n            const pad_local_x = abs_x * cos_p - abs_y * sin_p;\n            const pad_local_y = abs_x * sin_p + abs_y * cos_p;\n            \n            const v_center_x = wafer_vx_oscillation[k];\n            const v_center_y = 0.0;\n            const v_local_x = -omega_wafer * wx * sin_w - omega_wafer * wy * cos_w;\n            const v_local_y = omega_wafer * wx * cos_w - omega_wafer * wy * sin_w;\n            const v_gx = v_center_x + v_local_x;\n            const v_gy = v_center_y + v_local_y;\n            \n            const v_pad_x = -omega_pad * abs_y;\n            const v_pad_y = omega_pad * abs_x;\n            \n            const v_rel_x = v_gx - v_pad_x;\n            const v_rel_y = v_gy - v_pad_y;\n            const speed_rel = Math.sqrt(v_rel_x * v_rel_x + v_rel_y * v_rel_y);\n            \n            if (k > 0) {\n              cumulativeDistance[i] += speed_rel * dt;\n            }\n            \n            padTrajectoryData[i].push({\n              time: t,\n              x: pad_local_x,\n              y: pad_local_y,\n              abs_x: abs_x,\n              abs_y: abs_y\n            });\n            \n            // 하단 웨이퍼 궤적 계산 (대칭 변환)\n            const lower_wafer_center_x = wafer_xc;\n            const lower_wafer_center_y = -wafer_yc; // Y축 대칭\n            \n            const lower_abs_x = lower_wafer_center_x + (wx * cos_w - wy * sin_w);\n            const lower_abs_y = lower_wafer_center_y + (wx * sin_w + wy * cos_w);\n            \n            const lower_pad_local_x = lower_abs_x * cos_p - lower_abs_y * sin_p;\n            const lower_pad_local_y = lower_abs_x * sin_p + lower_abs_y * cos_p;\n            \n            padTrajectoryDataLower[i].push({\n              time: t,\n              x: lower_pad_local_x,\n              y: lower_pad_local_y,\n              abs_x: lower_abs_x,\n              abs_y: lower_abs_y\n            });\n            \n            trajectoryData[i].push({\n              time: t,\n              x: abs_x,\n              y: abs_y,\n              local_x: wx,\n              local_y: wy,\n              speed: speed_rel,\n              cumulative_distance: cumulativeDistance[i],\n              zone: zone\n            });\n            \n            timeStepData.points.push({\n              id: i,\n              x: abs_x,\n              y: abs_y,\n              local_x: wx,\n              local_y: wy,\n              speed: speed_rel,\n              cumulative_distance: cumulativeDistance[i],\n              zone: zone\n            });\n          }\n\n          // 히트맵용 점들 계산\n          for (let i = 0; i < heatmap_wafer_points.length; i++) {\n            const {x: wx, y: wy, zone} = heatmap_wafer_points[i];\n            \n            const abs_x = wafer_xc + (wx * cos_w - wy * sin_w);\n            const abs_y = wafer_yc + (wx * sin_w + wy * cos_w);\n            \n            const v_center_x = wafer_vx_oscillation[k];\n            const v_center_y = 0.0;\n            const v_local_x = -omega_wafer * wx * sin_w - omega_wafer * wy * cos_w;\n            const v_local_y = omega_wafer * wx * cos_w - omega_wafer * wy * sin_w;\n            const v_gx = v_center_x + v_local_x;\n            const v_gy = v_center_y + v_local_y;\n            \n            const v_pad_x = -omega_pad * abs_y;\n            const v_pad_y = omega_pad * abs_x;\n            \n            const v_rel_x = v_gx - v_pad_x;\n            const v_rel_y = v_gy - v_pad_y;\n            const speed_rel = Math.sqrt(v_rel_x * v_rel_x + v_rel_y * v_rel_y);\n            \n            if (k > 0) {\n              heatmap_cumulativeDistance[i] += speed_rel * dt;\n            }\n            \n            heatmap_trajectoryData[i].push({\n              time: t,\n              x: abs_x,\n              y: abs_y,\n              local_x: wx,\n              local_y: wy,\n              speed: speed_rel,\n              cumulative_distance: heatmap_cumulativeDistance[i],\n              zone: zone\n            });\n          }\n          \n          timeSeriesData.push(timeStepData);\n        }\n\n        // 통계 계산\n        const finalDistances = cumulativeDistance;\n        const maxDistance = Math.max(...finalDistances);\n        const minDistance = Math.min(...finalDistances);\n        const avgDistance = finalDistances.reduce((a, b) => a + b, 0) / finalDistances.length;\n        const uniformityIndex = maxDistance > 0 ? 1 - (maxDistance - minDistance) / maxDistance : 1;\n\n        setResults({\n          wafer_points,\n          heatmap_wafer_points,\n          heatmap_trajectoryData,\n          heatmap_cumulativeDistance,\n          timeSeriesData,\n          trajectoryData,\n          padTrajectoryData,\n          padTrajectoryDataLower, // 하단 웨이퍼 궤적 데이터 추가\n          finalDistances,\n          statistics: {\n            maxDistance,\n            minDistance,\n            avgDistance,\n            uniformityIndex\n          },\n          R_wafer,\n          R_pad,\n          time_steps,\n          cell_area\n        });\n\n        setIsSimulating(false);\n      }, 100);\n    };\n  }, [params, customPoints]);\n\n  useEffect(() => {\n    runSimulation();\n  }, [runSimulation]);\n\n  // 사용자 정의 점 함수들\n  const addCustomPoint = () => {\n    if (newPointRadius <= params.R_wafer && newPointRadius >= 0) {\n      const newPoint = {\n        id: Date.now(),\n        radius: newPointRadius,\n        angle: newPointAngle\n      };\n      setCustomPoints(prev => [...prev, newPoint]);\n    }\n  };\n\n  const removeCustomPoint = (pointId) => {\n    setCustomPoints(prev => prev.filter(p => p.id !== pointId));\n  };\n\n  // 애니메이션 제어\n  const toggleAnimation = useCallback(() => {\n    console.log('toggleAnimation called, isPlaying:', isPlaying, 'isPlayingRef:', isPlayingRef.current, 'results:', !!results);\n    \n    if (isPlaying) {\n      // 일시정지\n      console.log('Pausing animation');\n      isPlayingRef.current = false;\n      setIsPlaying(false);\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    } else {\n      // 재생\n      if (!results || !results.timeSeriesData || results.timeSeriesData.length === 0) {\n        console.log('Cannot start animation: no results or timeSeriesData');\n        return;\n      }\n      console.log('Starting animation');\n      isPlayingRef.current = true;\n      setIsPlaying(true);\n    }\n  }, [isPlaying, results]);\n\n\n\n  useEffect(() => {\n    console.log('Animation useEffect triggered:', { \n      isPlaying, \n      isPlayingRef: isPlayingRef.current,\n      hasResults: !!results, \n      hasTimeSeriesData: !!(results?.timeSeriesData),\n      timeSeriesDataLength: results?.timeSeriesData?.length || 0\n    });\n    \n    // 애니메이션 중지 조건\n    if (!isPlaying || !results || !results.timeSeriesData || results.timeSeriesData.length === 0) {\n      console.log('Stopping animation: conditions not met');\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      return;\n    }\n    \n    // 애니메이션 시작\n    if (isPlaying && isPlayingRef.current) {\n      console.log('Starting animation loop');\n      \n      const animate = () => {\n        // 재생 상태 확인\n        if (!isPlayingRef.current) {\n          console.log('Animation stopped: isPlayingRef is false');\n          return;\n        }\n        \n        setAnimationTime(prev => {\n          const next = prev + (0.5 * animationSpeed);\n          const maxTime = results.timeSeriesData.length - 1;\n          \n          if (next >= maxTime) {\n            console.log('Animation completed, reached max time');\n            isPlayingRef.current = false;\n            setIsPlaying(false);\n            if (animationRef.current) {\n              cancelAnimationFrame(animationRef.current);\n              animationRef.current = null;\n            }\n            return maxTime;\n          }\n          return next;\n        });\n        \n        // 다음 프레임 요청\n        if (isPlayingRef.current) {\n          animationRef.current = requestAnimationFrame(animate);\n        }\n      };\n      \n      animationRef.current = requestAnimationFrame(animate);\n    }\n    \n    return () => {\n      console.log('Cleaning up animation useEffect');\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    };\n  }, [isPlaying, animationSpeed, results]);\n\n  const resetAnimation = useCallback(() => {\n    console.log('resetAnimation called');\n    // 애니메이션 중지\n    isPlayingRef.current = false;\n    setIsPlaying(false);\n    if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n      animationRef.current = null;\n    }\n    // 시간을 0으로 리셋\n    setAnimationTime(0);\n  }, []);\n\n  useEffect(() => {\n    return () => {\n      console.log('Component unmounting, cleaning up animation');\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    };\n  }, []);\n\n  // 포인트 선택 핸들러\n  const handlePointSelection = (pointIndex) => {\n    if (isSelectingMode) {\n      setUserSelectedPoints(prev => {\n        if (prev.includes(pointIndex)) {\n          return prev.filter(p => p !== pointIndex);\n        } else {\n          return [...prev, pointIndex].slice(-10);\n        }\n      });\n    } else {\n      setSelectedPoints(prev => {\n        if (prev.includes(pointIndex)) {\n          return prev.filter(p => p !== pointIndex);\n        } else {\n          return [...prev, pointIndex].slice(-5);\n        }\n      });\n    }\n  };\n\n\n\n  // 매개변수 제어 패널\n  const ControlPanel = () => (\n    <div className=\"bg-white p-4 rounded-lg shadow-lg space-y-4\">\n      <h2 className=\"text-lg font-bold mb-3\">시뮬레이션 매개변수</h2>\n      \n      <div className=\"grid grid-cols-8 gap-2 items-end\">\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">웨이퍼R(mm)</label>\n          <input\n            type=\"number\"\n            value={params.R_wafer}\n            onChange={(e) => setParams({...params, R_wafer: Number(e.target.value)})}\n            className=\"w-full px-2 py-1 text-sm border rounded\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">패드R(mm)</label>\n          <input\n            type=\"number\"\n            value={params.R_pad}\n            onChange={(e) => setParams({...params, R_pad: Number(e.target.value)})}\n            className=\"w-full px-2 py-1 text-sm border rounded\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">패드RPM</label>\n          <input\n            type=\"number\"\n            value={params.rpm_pad}\n            onChange={(e) => setParams({...params, rpm_pad: Number(e.target.value)})}\n            className=\"w-full px-2 py-1 text-sm border rounded\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">웨이퍼RPM</label>\n          <input\n            type=\"number\"\n            value={params.rpm_wafer}\n            onChange={(e) => setParams({...params, rpm_wafer: Number(e.target.value)})}\n            className=\"w-full px-2 py-1 text-sm border rounded\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">시간(s)</label>\n          <input\n            type=\"number\"\n            value={params.time_total}\n            onChange={(e) => setParams({...params, time_total: Number(e.target.value)})}\n            className=\"w-full px-2 py-1 text-sm border rounded\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">스텝수</label>\n          <input\n            type=\"number\"\n            value={params.num_time_steps}\n            onChange={(e) => setParams({...params, num_time_steps: Number(e.target.value)})}\n            className=\"w-full px-2 py-1 text-sm border rounded\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">진동폭(mm)</label>\n          <input\n            type=\"number\"\n            value={params.oscillation_amplitude}\n            onChange={(e) => setParams({...params, oscillation_amplitude: Number(e.target.value)})}\n            className=\"w-full px-2 py-1 text-sm border rounded\"\n          />\n        </div>\n        <div className=\"flex flex-col items-center\">\n          <label className=\"text-xs font-medium mb-1\">진동</label>\n          <input\n            type=\"checkbox\"\n            checked={params.oscillation_enabled}\n            onChange={(e) => setParams({...params, oscillation_enabled: e.target.checked})}\n            className=\"w-4 h-4\"\n          />\n        </div>\n      </div>\n\n      <div className=\"border-t pt-3\">\n        <h3 className=\"font-semibold text-sm mb-2\">사용자 정의 점</h3>\n        \n        {/* 미리 정의된 점들 */}\n        <div className=\"mb-3\">\n          <h4 className=\"text-xs font-medium mb-2\">미리 정의된 점들:</h4>\n          <div className=\"grid grid-cols-4 gap-2\">\n            {[\n              { radius: 0, angle: 0, label: '중심 (0mm)' },\n              { radius: 50, angle: 0, label: '50mm' },\n              { radius: 100, angle: 0, label: '100mm' },\n              { radius: 150, angle: 0, label: '150mm' }\n            ].map((point, index) => {\n              const isSelected = customPoints.some(p => p.radius === point.radius && p.angle === point.angle);\n              return (\n                <button\n                  key={index}\n                  onClick={() => {\n                    if (isSelected) {\n                      // 선택 해제\n                      setCustomPoints(prev => prev.filter(p => !(p.radius === point.radius && p.angle === point.angle)));\n                    } else {\n                      // 선택\n                      const newPoint = {\n                        id: `predefined_${point.radius}_${point.angle}`,\n                        radius: point.radius,\n                        angle: point.angle,\n                        label: point.label\n                      };\n                      setCustomPoints(prev => [...prev, newPoint]);\n                    }\n                  }}\n                  className={`px-2 py-1 text-xs rounded border ${\n                    isSelected \n                      ? 'bg-blue-500 text-white border-blue-500' \n                      : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'\n                  }`}\n                >\n                  {point.label}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n        \n        {/* 사용자 정의 점 추가 */}\n        <div className=\"flex items-center space-x-2 mb-2\">\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">반지름(mm)</label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              max={params.R_wafer}\n              value={newPointRadius}\n              onChange={(e) => setNewPointRadius(Number(e.target.value))}\n              className=\"w-20 px-2 py-1 text-sm border rounded\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">각도(°)</label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              max=\"360\"\n              value={newPointAngle}\n              onChange={(e) => setNewPointAngle(Number(e.target.value))}\n              className=\"w-20 px-2 py-1 text-sm border rounded\"\n            />\n          </div>\n          <button\n            onClick={addCustomPoint}\n            className=\"px-3 py-1 bg-green-500 text-white text-sm rounded hover:bg-green-600\"\n          >\n            추가\n          </button>\n        </div>\n        \n        {customPoints.length > 0 && (\n          <div className=\"max-h-32 overflow-y-auto\">\n            <h4 className=\"text-xs font-medium mb-1\">추가된 점들:</h4>\n            {customPoints.map(point => (\n              <div key={point.id} className=\"flex items-center justify-between bg-purple-50 px-2 py-1 rounded text-xs mb-1\">\n                <span>R: {point.radius}mm, θ: {point.angle}°</span>\n                <button\n                  onClick={() => removeCustomPoint(point.id)}\n                  className=\"text-red-500 hover:text-red-700\"\n                >\n                  삭제\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  // 실시간 애니메이션 뷰\n  const AnimationView = () => {\n    if (!results || !results.timeSeriesData || results.timeSeriesData.length === 0) {\n      return (\n        <div className=\"w-full h-96 bg-gray-100 border rounded-lg flex items-center justify-center\">\n          <div className=\"text-center\">\n            <p className=\"text-gray-600\">시뮬레이션 결과가 없습니다.</p>\n          </div>\n        </div>\n      );\n    }\n    \n    const currentTimeIndex = Math.floor(animationTime);\n    const currentData = results.timeSeriesData[currentTimeIndex];\n    \n    if (!currentData) {\n      console.log('No currentData for index:', currentTimeIndex);\n      return (\n        <div className=\"w-full h-96 bg-gray-100 border rounded-lg flex items-center justify-center\">\n          <div className=\"text-center\">\n            <p className=\"text-gray-600\">현재 시간 인덱스에 대한 데이터가 없습니다.</p>\n          </div>\n        </div>\n      );\n    }\n\n    // 고도화된 부드러운 곡선 생성 함수\n    const createSmoothPath = (points, isUpper = true) => {\n      if (points.length < 2) return '';\n      \n      // 점들 간격을 더 조밀하게 보간\n      const interpolatedPoints = [];\n      for (let i = 0; i < points.length - 1; i++) {\n        const current = points[i];\n        const next = points[i + 1];\n        \n        // 원본 점 추가\n        interpolatedPoints.push(current);\n        \n        // 중간에 3개의 보간점 추가 (총 4배 조밀하게)\n        for (let j = 1; j <= 3; j++) {\n          const t = j / 4;\n          const interpolated = {\n            x: current.x + (next.x - current.x) * t,\n            y: current.y + (next.y - current.y) * t\n          };\n          interpolatedPoints.push(interpolated);\n        }\n      }\n      interpolatedPoints.push(points[points.length - 1]);\n      \n      // Catmull-Rom 스플라인을 사용한 부드러운 곡선 생성\n      let path = `M ${interpolatedPoints[0].x} ${isUpper ? -interpolatedPoints[0].y : interpolatedPoints[0].y}`;\n      \n      for (let i = 1; i < interpolatedPoints.length; i++) {\n        const prev = interpolatedPoints[i - 1];\n        const curr = interpolatedPoints[i];\n        \n        if (i === 1) {\n          // 첫 번째 세그먼트는 단순한 2차 베지어\n          path += ` Q ${prev.x} ${isUpper ? -prev.y : prev.y} ${curr.x} ${isUpper ? -curr.y : curr.y}`;\n        } else {\n          // 후속 세그먼트는 더 부드러운 3차 베지어\n          const prev2 = interpolatedPoints[i - 2];\n          const cp1x = prev.x + (curr.x - prev2.x) * 0.25;\n          const cp1y = prev.y + (curr.y - prev2.y) * 0.25;\n          const cp2x = curr.x - (curr.x - prev.x) * 0.25;\n          const cp2y = curr.y - (curr.y - prev.y) * 0.25;\n          \n          path += ` C ${cp1x} ${isUpper ? -cp1y : cp1y} ${cp2x} ${isUpper ? -cp2y : cp2y} ${curr.x} ${isUpper ? -curr.y : curr.y}`;\n        }\n      }\n      \n      return path;\n    };\n\n    return (\n      <div className=\"space-y-6\">\n        {/* 제어 패널 */}\n        <div className=\"flex justify-between items-center mb-4\">\n          <div>\n            <h3 className=\"text-xl font-semibold\">실시간 시뮬레이션</h3>\n            <div className=\"text-xs text-gray-500 mt-1\">\n              상태: {isPlaying ? '재생 중' : '일시정지'} | \n              Ref: {isPlayingRef.current ? 'ON' : 'OFF'} | \n              시간: {currentData.time.toFixed(2)}s | \n              인덱스: {currentTimeIndex}/{results.timeSeriesData.length - 1}\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={() => {\n                  console.log('Play/Pause button clicked');\n                  toggleAnimation();\n                }}\n                className={`px-4 py-2 rounded ${isPlaying ? 'bg-red-500 text-white' : 'bg-green-500 text-white'}`}\n              >\n                {isPlaying ? '⏸️ 일시정지' : '▶️ 재생'}\n              </button>\n              <button\n                onClick={() => {\n                  console.log('Reset button clicked');\n                  resetAnimation();\n                }}\n                className=\"px-4 py-2 rounded bg-gray-500 text-white hover:bg-gray-600\"\n              >\n                🔄 리셋\n              </button>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <label className=\"text-sm font-medium\">속도:</label>\n              <select\n                value={animationSpeed}\n                onChange={(e) => {\n                  const newSpeed = Number(e.target.value);\n                  console.log('Animation speed changed to:', newSpeed);\n                  setAnimationSpeed(newSpeed);\n                }}\n                className=\"px-2 py-1 border rounded text-sm\"\n              >\n                <option value={0.25}>0.25x</option>\n                <option value={0.5}>0.5x</option>\n                <option value={1.0}>1.0x</option>\n                <option value={1.5}>1.5x</option>\n                <option value={2.0}>2.0x</option>\n                <option value={3.0}>3.0x</option>\n                <option value={5.0}>5.0x</option>\n              </select>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm\">시간: {currentData.time.toFixed(2)}s</span>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max={(results.timeSeriesData.length - 1)}\n                value={animationTime}\n                onChange={(e) => {\n                  const newTime = Number(e.target.value);\n                  console.log('Slider changed to:', newTime);\n                  // 애니메이션 중지\n                  isPlayingRef.current = false;\n                  setIsPlaying(false);\n                  if (animationRef.current) {\n                    cancelAnimationFrame(animationRef.current);\n                    animationRef.current = null;\n                  }\n                  setAnimationTime(newTime);\n                }}\n                className=\"w-32\"\n              />\n              <span className=\"text-xs text-gray-500\">\n                {Math.floor(animationTime)}/{results.timeSeriesData.length - 1}\n              </span>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <label className=\"text-sm font-medium\">자취길이:</label>\n              <input\n                type=\"range\"\n                min=\"10\"\n                max=\"500\"\n                value={trailLength}\n                onChange={(e) => {\n                  const newLength = Number(e.target.value);\n                  console.log('Trail length changed to:', newLength);\n                  setTrailLength(newLength);\n                }}\n                className=\"w-24\"\n              />\n              <span className=\"text-xs text-gray-500\">\n                {trailLength}단계\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-3 gap-4\">\n          {/* 1. 패드 좌표계 뷰 */}\n          <div className=\"bg-white border rounded-lg p-4\">\n            <h4 className=\"text-lg font-semibold mb-4\">패드 좌표계 (대칭 웨이퍼)</h4>\n            <div className=\"relative w-full h-80 bg-gray-50 border\">\n              <svg width=\"100%\" height=\"100%\" viewBox={`${-results.R_pad*1.2} ${-results.R_pad*1.2} ${results.R_pad*2.4} ${results.R_pad*2.4}`}>\n                {/* 회전하는 패드 */}\n                <g transform={`rotate(${currentData.pad_angle * 180 / Math.PI})`}>\n                  <circle\n                    cx=\"0\"\n                    cy=\"0\"\n                    r={results.R_pad}\n                    fill=\"lightgray\"\n                    opacity=\"0.3\"\n                    stroke=\"gray\"\n                    strokeWidth=\"2\"\n                  />\n                  <line x1=\"0\" y1=\"0\" x2={results.R_pad * 0.8} y2=\"0\" stroke=\"gray\" strokeWidth=\"3\" opacity=\"0.6\"/>\n                  <circle cx={results.R_pad * 0.8} cy=\"0\" r=\"5\" fill=\"gray\" opacity=\"0.8\"/>\n                </g>\n                <text x=\"0\" y={results.R_pad + 30} textAnchor=\"middle\" fontSize=\"12\" fill=\"gray\">패드 (회전)</text>\n                \n                {/* 상단 웨이퍼 */}\n                <g transform={`translate(${currentData.wafer_center_x}, ${currentData.wafer_center_y})`}>\n                  <circle cx=\"0\" cy=\"0\" r={results.R_wafer} fill=\"none\" stroke=\"blue\" strokeWidth=\"2\" opacity=\"0.4\" />\n                  <g transform={`rotate(${currentData.wafer_angle * 180 / Math.PI})`}>\n                    <line x1=\"0\" y1=\"0\" x2={results.R_wafer * 0.8} y2=\"0\" stroke=\"blue\" strokeWidth=\"3\" opacity=\"0.7\"/>\n                    <circle cx={results.R_wafer * 0.8} cy=\"0\" r=\"4\" fill=\"blue\" opacity=\"0.9\"/>\n                  </g>\n                </g>\n                <text x={currentData.wafer_center_x} y={currentData.wafer_center_y - results.R_wafer - 15} textAnchor=\"middle\" fontSize=\"10\" fill=\"blue\">웨이퍼1</text>\n                \n                {/* 하단 웨이퍼 */}\n                <g transform={`translate(${currentData.wafer_center_x}, ${-currentData.wafer_center_y})`}>\n                  <circle cx=\"0\" cy=\"0\" r={results.R_wafer} fill=\"none\" stroke=\"darkblue\" strokeWidth=\"2\" opacity=\"0.4\" />\n                  <g transform={`rotate(${currentData.wafer_angle * 180 / Math.PI})`}>\n                    <line x1=\"0\" y1=\"0\" x2={results.R_wafer * 0.8} y2=\"0\" stroke=\"darkblue\" strokeWidth=\"3\" opacity=\"0.7\"/>\n                    <circle cx={results.R_wafer * 0.8} cy=\"0\" r=\"4\" fill=\"darkblue\" opacity=\"0.9\"/>\n                  </g>\n                </g>\n                <text x={currentData.wafer_center_x} y={-currentData.wafer_center_y + results.R_wafer + 25} textAnchor=\"middle\" fontSize=\"10\" fill=\"darkblue\">웨이퍼2</text>\n                \n                {/* 기본 추적 점들의 자취선 (150mm 점만, 사용자 정의에서 선택되지 않은 경우) */}\n                {(() => {\n                  const has150mmCustom = customPoints.some(p => p.radius === 150 && p.angle === 0);\n                  if (has150mmCustom) return null;\n                  \n                  return defaultTrackingPoints.map(point => {\n                    const pointIndex = results.wafer_points.findIndex(p => p.customId === point.id);\n                    if (pointIndex === -1) return null;\n                  \n                  const startIndex = Math.max(0, currentTimeIndex - trailLength + 1);\n                  const trajectorySegments = results.padTrajectoryData[pointIndex]\n                    .slice(startIndex, currentTimeIndex + 1)\n                    .filter(trajPoint => {\n                      return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                    });\n                  \n                  if (trajectorySegments.length < 2) return null;\n                  \n                  return (\n                    <g key={`default-trail-${point.id}`}>\n                      <path\n                        d={createSmoothPath(trajectorySegments, true)}\n                        fill=\"none\"\n                        stroke=\"blue\"\n                        strokeWidth=\"2\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        opacity=\"0.8\"\n                      />\n                      <path\n                        d={createSmoothPath(trajectorySegments, false)}\n                        fill=\"none\"\n                        stroke=\"blue\"\n                        strokeWidth=\"2\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        opacity=\"0.8\"\n                        strokeDasharray=\"3,3\"\n                      />\n                      \n                      {/* 하단 웨이퍼 궤적 (실제 계산된 데이터 사용) */}\n                      {(() => {\n                        const lowerTrajectorySegments = results.padTrajectoryDataLower[pointIndex]\n                          .slice(startIndex, currentTimeIndex + 1)\n                          .filter(trajPoint => {\n                            return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                          });\n                        \n                        if (lowerTrajectorySegments.length < 2) return null;\n                        \n                        return (\n                          <path\n                            d={createSmoothPath(lowerTrajectorySegments, false)}\n                            fill=\"none\"\n                            stroke=\"darkblue\"\n                            strokeWidth=\"2\"\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            opacity=\"0.8\"\n                            strokeDasharray=\"5,5\"\n                          />\n                        );\n                      })()}\n                      {currentTimeIndex < trajectorySegments.length && (\n                        <>\n                          <circle\n                            cx={trajectorySegments[trajectorySegments.length - 1].x}\n                            cy={-trajectorySegments[trajectorySegments.length - 1].y}\n                            r=\"4\"\n                            fill=\"blue\"\n                            stroke=\"white\"\n                            strokeWidth=\"2\"\n                          />\n                          <circle\n                            cx={trajectorySegments[trajectorySegments.length - 1].x}\n                            cy={trajectorySegments[trajectorySegments.length - 1].y}\n                            r=\"4\"\n                            fill=\"blue\"\n                            stroke=\"white\"\n                            strokeWidth=\"2\"\n                          />\n                          \n                          {/* 하단 웨이퍼 현재 위치 */}\n                          {(() => {\n                            const lowerTrajectorySegments = results.padTrajectoryDataLower[pointIndex]\n                              .slice(0, currentTimeIndex + 1)\n                              .filter(trajPoint => {\n                                return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                              });\n                            \n                            if (lowerTrajectorySegments.length === 0) return null;\n                            \n                            return (\n                              <circle\n                                cx={lowerTrajectorySegments[lowerTrajectorySegments.length - 1].x}\n                                cy={lowerTrajectorySegments[lowerTrajectorySegments.length - 1].y}\n                                r=\"4\"\n                                fill=\"darkblue\"\n                                stroke=\"white\"\n                                strokeWidth=\"2\"\n                              />\n                            );\n                          })()}\n                        </>\n                      )}\n                    </g>\n                  );\n                  });\n                })()}\n                \n                {/* 사용자 정의 점들의 자취선 */}\n                {customPoints.map(point => {\n                  const pointIndex = results.wafer_points.findIndex(p => p.customId === point.id);\n                  if (pointIndex === -1) return null;\n                  \n                  const trajectorySegments = results.padTrajectoryData[pointIndex]\n                    .slice(0, currentTimeIndex + 1)\n                    .filter(trajPoint => {\n                      return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                    });\n                  \n                  if (trajectorySegments.length < 2) return null;\n                  \n                  return (\n                    <g key={`custom-trail-${point.id}`}>\n                      <path\n                        d={createSmoothPath(trajectorySegments, true)}\n                        fill=\"none\"\n                        stroke=\"purple\"\n                        strokeWidth=\"3\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        opacity=\"1\"\n                      />\n                      <path\n                        d={createSmoothPath(trajectorySegments, false)}\n                        fill=\"none\"\n                        stroke=\"purple\"\n                        strokeWidth=\"3\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        opacity=\"1\"\n                        strokeDasharray=\"5,5\"\n                      />\n                      \n                      {/* 하단 웨이퍼 궤적 (사용자 정의 점) */}\n                      {(() => {\n                        const lowerTrajectorySegments = results.padTrajectoryDataLower[pointIndex]\n                          .slice(0, currentTimeIndex + 1)\n                          .filter(trajPoint => {\n                            return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                          });\n                        \n                        if (lowerTrajectorySegments.length < 2) return null;\n                        \n                        return (\n                          <path\n                            d={createSmoothPath(lowerTrajectorySegments, false)}\n                            fill=\"none\"\n                            stroke=\"darkmagenta\"\n                            strokeWidth=\"3\"\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            opacity=\"1\"\n                            strokeDasharray=\"7,7\"\n                          />\n                        );\n                      })()}\n                      {currentTimeIndex < trajectorySegments.length && (\n                        <>\n                          <circle\n                            cx={trajectorySegments[trajectorySegments.length - 1].x}\n                            cy={-trajectorySegments[trajectorySegments.length - 1].y}\n                            r=\"6\"\n                            fill=\"purple\"\n                            stroke=\"darkmagenta\"\n                            strokeWidth=\"3\"\n                          />\n                          <circle\n                            cx={trajectorySegments[trajectorySegments.length - 1].x}\n                            cy={trajectorySegments[trajectorySegments.length - 1].y}\n                            r=\"6\"\n                            fill=\"purple\"\n                            stroke=\"darkmagenta\"\n                            strokeWidth=\"3\"\n                          />\n                          \n                          {/* 하단 웨이퍼 현재 위치 (사용자 정의 점) */}\n                          {(() => {\n                            const lowerTrajectorySegments = results.padTrajectoryDataLower[pointIndex]\n                              .slice(0, currentTimeIndex + 1)\n                              .filter(trajPoint => {\n                                return Math.sqrt(trajPoint.x * trajPoint.x + trajPoint.y * trajPoint.y) <= results.R_pad;\n                              });\n                            \n                            if (lowerTrajectorySegments.length === 0) return null;\n                            \n                            return (\n                              <circle\n                                cx={lowerTrajectorySegments[lowerTrajectorySegments.length - 1].x}\n                                cy={lowerTrajectorySegments[lowerTrajectorySegments.length - 1].y}\n                                r=\"6\"\n                                fill=\"darkmagenta\"\n                                stroke=\"white\"\n                                strokeWidth=\"3\"\n                              />\n                            );\n                          })()}\n                        </>\n                      )}\n                    </g>\n                  );\n                })}\n                \n                {/* 범례 */}\n                <g transform=\"translate(-400, -350)\">\n                  <rect x=\"0\" y=\"0\" width=\"140\" height=\"100\" fill=\"white\" opacity=\"0.9\" stroke=\"gray\" strokeWidth=\"1\" rx=\"5\"/>\n                  <text x=\"5\" y=\"15\" fontSize=\"10\" fontWeight=\"bold\" fill=\"black\">추적점 범례</text>\n                  <line x1=\"5\" y1=\"25\" x2=\"25\" y2=\"25\" stroke=\"blue\" strokeWidth=\"2\"/>\n                  <text x=\"30\" y=\"30\" fontSize=\"9\" fill=\"black\">150mm (상단)</text>\n                  <line x1=\"5\" y1=\"35\" x2=\"25\" y2=\"35\" stroke=\"darkblue\" strokeWidth=\"2\" strokeDasharray=\"5,5\"/>\n                  <text x=\"30\" y=\"40\" fontSize=\"9\" fill=\"black\">150mm (하단)</text>\n                  <line x1=\"5\" y1=\"50\" x2=\"25\" y2=\"50\" stroke=\"purple\" strokeWidth=\"3\"/>\n                  <text x=\"30\" y=\"55\" fontSize=\"9\" fill=\"black\">사용자 정의 (상단)</text>\n                  <line x1=\"5\" y1=\"60\" x2=\"25\" y2=\"60\" stroke=\"darkmagenta\" strokeWidth=\"3\" strokeDasharray=\"7,7\"/>\n                  <text x=\"30\" y=\"65\" fontSize=\"9\" fill=\"black\">사용자 정의 (하단)</text>\n                </g>\n              </svg>\n            </div>\n            <p className=\"text-xs text-gray-600 mt-2\">대칭 웨이퍼들의 추적점이 회전 패드 위에 그리는 자취</p>\n          </div>\n\n          {/* 2. 웨이퍼 좌표계 뷰 - 히트맵 */}\n          <div className=\"bg-white border rounded-lg p-4\">\n            <h4 className=\"text-lg font-semibold mb-4\">웨이퍼 좌표계 (히트맵)</h4>\n            <div className=\"relative w-full h-80 bg-gray-50 border\">\n              <svg width=\"100%\" height=\"100%\" viewBox={`${-results.R_wafer*1.2} ${-results.R_wafer*1.2} ${results.R_wafer*2.4} ${results.R_wafer*2.4}`}>\n                <circle cx=\"0\" cy=\"0\" r={results.R_wafer} fill=\"none\" stroke=\"blue\" strokeWidth=\"3\" />\n                <line x1=\"0\" y1=\"0\" x2={results.R_wafer * 0.8} y2=\"0\" stroke=\"blue\" strokeWidth=\"3\" opacity=\"0.6\"/>\n                <circle cx={results.R_wafer * 0.8} cy=\"0\" r=\"4\" fill=\"blue\" opacity=\"0.8\"/>\n                <text x=\"0\" y={results.R_wafer + 30} textAnchor=\"middle\" fontSize=\"12\" fill=\"blue\">웨이퍼 (고정)</text>\n                \n                {/* 히트맵 점들 */}\n                {results.heatmap_wafer_points.map((point, i) => {\n                  const currentDistance = currentTimeIndex < results.heatmap_trajectoryData[i].length ? \n                    results.heatmap_trajectoryData[i][currentTimeIndex].cumulative_distance : 0;\n                  \n                  const allCurrentDistances = results.heatmap_wafer_points.map((_, idx) => \n                    currentTimeIndex < results.heatmap_trajectoryData[idx].length ? \n                    results.heatmap_trajectoryData[idx][currentTimeIndex].cumulative_distance : 0\n                  );\n                  const maxCurrentDistance = Math.max(...allCurrentDistances);\n                  const minCurrentDistance = Math.min(...allCurrentDistances);\n                  const range = maxCurrentDistance - minCurrentDistance;\n                  \n                  const intensity = range > 0 ? (currentDistance - minCurrentDistance) / range : 0;\n                  const pointSize = Math.max(2, 2 + intensity * 6);\n                  const hue = (1 - intensity) * 240;\n                  const saturation = 80 + intensity * 20;\n                  const lightness = 30 + intensity * 40;\n                  \n                  return (\n                    <circle\n                      key={`heatmap-${i}`}\n                      cx={point.x}\n                      cy={-point.y}\n                      r={pointSize}\n                      fill={`hsl(${hue}, ${saturation}%, ${lightness}%)`}\n                      opacity=\"0.8\"\n                      stroke={intensity > 0.8 ? 'white' : 'none'}\n                      strokeWidth=\"0.5\"\n                    />\n                  );\n                })}\n                \n                <circle cx=\"0\" cy=\"0\" r=\"150\" fill=\"none\" stroke=\"lightgray\" strokeWidth=\"2\" strokeDasharray=\"5,5\" opacity=\"0.7\" />\n                <text x=\"0\" y=\"160\" textAnchor=\"middle\" fontSize=\"10\" fill=\"gray\">150mm</text>\n                \n                {/* 색상 범례 */}\n                <g transform=\"translate(120, -140)\">\n                  <rect x=\"0\" y=\"0\" width=\"100\" height=\"80\" fill=\"white\" opacity=\"0.9\" stroke=\"gray\" strokeWidth=\"1\" rx=\"3\"/>\n                  <text x=\"5\" y=\"15\" fontSize=\"10\" fontWeight=\"bold\" fill=\"black\">누적거리 (mm)</text>\n                  \n                  <defs>\n                    <linearGradient id=\"heatmapGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                      <stop offset=\"0%\" stopColor=\"hsl(240, 80%, 50%)\" />\n                      <stop offset=\"50%\" stopColor=\"hsl(120, 80%, 50%)\" />\n                      <stop offset=\"100%\" stopColor=\"hsl(0, 80%, 50%)\" />\n                    </linearGradient>\n                  </defs>\n                  <rect x=\"5\" y=\"20\" width=\"80\" height=\"10\" fill=\"url(#heatmapGradient)\" stroke=\"gray\" strokeWidth=\"0.5\"/>\n                  \n                  {(() => {\n                    const allCurrentDistances = results.heatmap_wafer_points.map((_, idx) => \n                      currentTimeIndex < results.heatmap_trajectoryData[idx].length ? \n                      results.heatmap_trajectoryData[idx][currentTimeIndex].cumulative_distance : 0\n                    );\n                    const maxDist = Math.max(...allCurrentDistances);\n                    const minDist = Math.min(...allCurrentDistances);\n                    \n                    return (\n                      <>\n                        <text x=\"5\" y=\"45\" fontSize=\"8\" fill=\"black\">{minDist.toFixed(1)}</text>\n                        <text x=\"45\" y=\"45\" fontSize=\"8\" fill=\"black\" textAnchor=\"middle\">{((minDist + maxDist) / 2).toFixed(1)}</text>\n                        <text x=\"85\" y=\"45\" fontSize=\"8\" fill=\"black\" textAnchor=\"end\">{maxDist.toFixed(1)}</text>\n                        <text x=\"5\" y=\"70\" fontSize=\"8\" fill=\"gray\">시간: {currentData.time.toFixed(1)}s</text>\n                      </>\n                    );\n                  })()}\n                </g>\n              </svg>\n            </div>\n            <p className=\"text-xs text-gray-600 mt-2\">고정된 웨이퍼 위 300개 점의 누적 이동거리 히트맵</p>\n          </div>\n\n          {/* 3. 웨이퍼 좌표계 뷰 - 패드 200mm 자취 */}\n          <div className=\"bg-white border rounded-lg p-4\">\n            <h4 className=\"text-lg font-semibold mb-4\">웨이퍼 좌표계 (패드 200mm점 자취)</h4>\n            <div className=\"relative w-full h-80 bg-gray-50 border\">\n              <svg width=\"100%\" height=\"100%\" viewBox={`${-results.R_wafer*1.2} ${-results.R_wafer*1.2} ${results.R_wafer*2.4} ${results.R_wafer*2.4}`}>\n                <circle cx=\"0\" cy=\"0\" r={results.R_wafer} fill=\"none\" stroke=\"blue\" strokeWidth=\"3\" />\n                <line x1=\"0\" y1=\"0\" x2={results.R_wafer * 0.8} y2=\"0\" stroke=\"blue\" strokeWidth=\"3\" opacity=\"0.6\"/>\n                <circle cx={results.R_wafer * 0.8} cy=\"0\" r=\"4\" fill=\"blue\" opacity=\"0.8\"/>\n                <text x=\"0\" y={results.R_wafer + 30} textAnchor=\"middle\" fontSize=\"12\" fill=\"blue\">웨이퍼 (고정)</text>\n                \n                {/* 패드 200mm 지점 자취 */}\n                {(() => {\n                  const padPoint = { x: 200, y: 0 };\n                  \n                  // 더 조밀한 시간 간격으로 궤적 생성\n                  const waferTrajectory = [];\n                  const interpolation_factor = 5; // 5배 더 조밀하게\n                  \n                  for (let i = 0; i <= currentTimeIndex; i++) {\n                    const data = results.timeSeriesData[i];\n                    const cos_p = Math.cos(data.pad_angle);\n                    const sin_p = Math.sin(data.pad_angle);\n                    const global_x = padPoint.x * cos_p - padPoint.y * sin_p;\n                    const global_y = padPoint.x * sin_p + padPoint.y * cos_p;\n                    \n                    const rel_x = global_x - data.wafer_center_x;\n                    const rel_y = global_y - data.wafer_center_y;\n                    const cos_w = Math.cos(-data.wafer_angle);\n                    const sin_w = Math.sin(-data.wafer_angle);\n                    const wafer_x = rel_x * cos_w - rel_y * sin_w;\n                    const wafer_y = rel_x * sin_w + rel_y * cos_w;\n                    \n                    waferTrajectory.push({ x: wafer_x, y: wafer_y, time: data.time });\n                    \n                    // 다음 시간 스텝과의 중간점들 추가 (보간)\n                    if (i < currentTimeIndex && i < results.timeSeriesData.length - 1) {\n                      const nextData = results.timeSeriesData[i + 1];\n                      for (let j = 1; j < interpolation_factor; j++) {\n                        const t = j / interpolation_factor;\n                        const interpolatedPadAngle = data.pad_angle + (nextData.pad_angle - data.pad_angle) * t;\n                        const interpolatedWaferAngle = data.wafer_angle + (nextData.wafer_angle - data.wafer_angle) * t;\n                        const interpolatedWaferCenterX = data.wafer_center_x + (nextData.wafer_center_x - data.wafer_center_x) * t;\n                        const interpolatedWaferCenterY = data.wafer_center_y + (nextData.wafer_center_y - data.wafer_center_y) * t;\n                        \n                        const cos_p_interp = Math.cos(interpolatedPadAngle);\n                        const sin_p_interp = Math.sin(interpolatedPadAngle);\n                        const global_x_interp = padPoint.x * cos_p_interp - padPoint.y * sin_p_interp;\n                        const global_y_interp = padPoint.x * sin_p_interp + padPoint.y * cos_p_interp;\n                        \n                        const rel_x_interp = global_x_interp - interpolatedWaferCenterX;\n                        const rel_y_interp = global_y_interp - interpolatedWaferCenterY;\n                        const cos_w_interp = Math.cos(-interpolatedWaferAngle);\n                        const sin_w_interp = Math.sin(-interpolatedWaferAngle);\n                        const wafer_x_interp = rel_x_interp * cos_w_interp - rel_y_interp * sin_w_interp;\n                        const wafer_y_interp = rel_x_interp * sin_w_interp + rel_y_interp * cos_w_interp;\n                        \n                        waferTrajectory.push({ \n                          x: wafer_x_interp, \n                          y: wafer_y_interp, \n                          time: data.time + (nextData.time - data.time) * t \n                        });\n                      }\n                    }\n                  }\n                  \n                  // 웨이퍼 내부에 있는 점들만 필터링\n                  const filteredTrajectory = waferTrajectory.filter(point => \n                    Math.sqrt(point.x * point.x + point.y * point.y) <= results.R_wafer\n                  );\n                  \n                  if (filteredTrajectory.length < 2) return null;\n                  \n                  // 고도화된 부드러운 곡선 생성 함수\n                  const createSmoothWaferPath = (points) => {\n                    if (points.length < 2) return '';\n                    \n                    // B-스플라인 스무딩을 위한 추가 보간\n                    const smoothedPoints = [];\n                    for (let i = 0; i < points.length - 1; i++) {\n                      const current = points[i];\n                      const next = points[i + 1];\n                      \n                      smoothedPoints.push(current);\n                      \n                      // 중간에 2개의 보간점 추가\n                      for (let j = 1; j <= 2; j++) {\n                        const t = j / 3;\n                        const interpolated = {\n                          x: current.x + (next.x - current.x) * t,\n                          y: current.y + (next.y - current.y) * t\n                        };\n                        smoothedPoints.push(interpolated);\n                      }\n                    }\n                    smoothedPoints.push(points[points.length - 1]);\n                    \n                    // 3차 베지어 곡선으로 부드러운 경로 생성\n                    let path = `M ${smoothedPoints[0].x} ${-smoothedPoints[0].y}`;\n                    \n                    for (let i = 1; i < smoothedPoints.length; i++) {\n                      const prev = smoothedPoints[i - 1];\n                      const curr = smoothedPoints[i];\n                      \n                      if (i === 1) {\n                        // 첫 번째 세그먼트\n                        path += ` Q ${prev.x} ${-prev.y} ${curr.x} ${-curr.y}`;\n                      } else {\n                        // 후속 세그먼트는 3차 베지어\n                        const prev2 = smoothedPoints[i - 2];\n                        const cp1x = prev.x + (curr.x - prev2.x) * 0.3;\n                        const cp1y = prev.y + (curr.y - prev2.y) * 0.3;\n                        const cp2x = curr.x - (curr.x - prev.x) * 0.3;\n                        const cp2y = curr.y - (curr.y - prev.y) * 0.3;\n                        \n                        path += ` C ${cp1x} ${-cp1y} ${cp2x} ${-cp2y} ${curr.x} ${-curr.y}`;\n                      }\n                    }\n                    \n                    return path;\n                  };\n                  \n                  return (\n                    <g key=\"pad-200mm-trail\">\n                      <path\n                        d={createSmoothWaferPath(filteredTrajectory)}\n                        fill=\"none\"\n                        stroke=\"darkorange\"\n                        strokeWidth=\"3\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        opacity=\"0.8\"\n                      />\n                      <path\n                        d={createSmoothWaferPath(filteredTrajectory)}\n                        fill=\"none\"\n                        stroke=\"orange\"\n                        strokeWidth=\"1.5\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        opacity=\"0.6\"\n                      />\n                      \n                      {filteredTrajectory.length > 0 && (\n                        <>\n                          <circle\n                            cx={filteredTrajectory[filteredTrajectory.length - 1].x}\n                            cy={-filteredTrajectory[filteredTrajectory.length - 1].y}\n                            r=\"6\"\n                            fill=\"darkorange\"\n                            stroke=\"white\"\n                            strokeWidth=\"3\"\n                          />\n                          <circle\n                            cx={filteredTrajectory[0].x}\n                            cy={-filteredTrajectory[0].y}\n                            r=\"4\"\n                            fill=\"red\"\n                            stroke=\"white\"\n                            strokeWidth=\"2\"\n                          />\n                        </>\n                      )}\n                    </g>\n                  );\n                })()}\n                \n                {/* 범례 */}\n                <g transform=\"translate(120, -120)\">\n                  <rect x=\"0\" y=\"0\" width=\"120\" height=\"60\" fill=\"white\" opacity=\"0.9\" stroke=\"gray\" strokeWidth=\"1\" rx=\"3\"/>\n                  <text x=\"5\" y=\"15\" fontSize=\"10\" fontWeight=\"bold\" fill=\"black\">패드→웨이퍼 자취</text>\n                  <line x1=\"5\" y1=\"25\" x2=\"25\" y2=\"25\" stroke=\"darkorange\" strokeWidth=\"3\"/>\n                  <text x=\"30\" y=\"30\" fontSize=\"9\" fill=\"black\">패드 200mm점</text>\n                  <circle cx=\"15\" cy=\"40\" r=\"3\" fill=\"red\" stroke=\"white\" strokeWidth=\"1\"/>\n                  <text x=\"25\" y=\"45\" fontSize=\"9\" fill=\"black\">시작점</text>\n                  <circle cx=\"15\" cy=\"50\" r=\"4\" fill=\"darkorange\" stroke=\"white\" strokeWidth=\"2\"/>\n                  <text x=\"25\" y=\"55\" fontSize=\"9\" fill=\"black\">현재위치</text>\n                </g>\n              </svg>\n            </div>\n            <p className=\"text-xs text-gray-600 mt-2\">패드 위 200mm 지점이 고정된 웨이퍼 위에서 그리는 자취</p>\n          </div>\n        </div>\n        \n        <div className=\"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <p><strong>사용법:</strong></p>\n              <p>• 재생/일시정지/리셋 버튼으로 애니메이션 제어</p>\n              <p>• 시간 슬라이더로 특정 시점으로 이동 가능</p>\n              <p>• 속도 조절로 세밀한 관찰 또는 빠른 개요 확인</p>\n            </div>\n            <div>\n              <p><strong>그래프 설명:</strong></p>\n              <p>• <strong>좌측:</strong> 대칭 웨이퍼의 추적점이 패드에 그리는 자취</p>\n              <p>• <strong>중앙:</strong> 고정된 웨이퍼 위 300개 점의 누적 이동거리 히트맵</p>\n              <p>• <strong>우측:</strong> 패드 위 200mm 지점이 웨이퍼에 그리는 자취</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // 누적 거리 분석\n  const CumulativeDistanceAnalysis = () => {\n    if (!results || selectedPoints.length === 0) return (\n      <div className=\"w-full bg-white border rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold mb-4\">선택된 점들의 누적 이동거리</h3>\n        <p className=\"text-gray-600\">점을 선택해주세요</p>\n      </div>\n    );\n\n    const chartData = results.time_steps.map((time, i) => {\n      const dataPoint = { time };\n      selectedPoints.forEach(pointIndex => {\n        if (i < results.trajectoryData[pointIndex].length) {\n          dataPoint[`Point_${pointIndex}`] = results.trajectoryData[pointIndex][i].cumulative_distance;\n        }\n      });\n      return dataPoint;\n    });\n\n    const colors = ['#8884d8', '#82ca9d', '#ffc658', '#ff7300', '#413ea0'];\n\n    return (\n      <div className=\"w-full bg-white border rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold mb-4\">선택된 점들의 누적 이동거리</h3>\n        <ResponsiveContainer width=\"100%\" height={400}>\n          <LineChart data={chartData}>\n            <CartesianGrid strokeDasharray=\"3,3\" />\n            <XAxis \n              dataKey=\"time\" \n              label={{value: '시간 (s)', position: 'insideBottom', offset: -10}} \n            />\n            <YAxis \n              label={{value: '누적 거리 (mm)', angle: -90, position: 'insideLeft'}} \n            />\n            <Tooltip />\n            <Legend />\n            {selectedPoints.map((pointIndex, i) => (\n              <Line \n                key={pointIndex}\n                type=\"monotone\" \n                dataKey={`Point_${pointIndex}`} \n                stroke={colors[i % colors.length]}\n                strokeWidth={2}\n                name={`점 ${pointIndex} (${results.wafer_points[pointIndex].zone})`}\n              />\n            ))}\n          </LineChart>\n        </ResponsiveContainer>\n      </div>\n    );\n  };\n\n  // 뷰 선택 탭\n  const ViewTabs = () => (\n    <div className=\"flex flex-wrap gap-2 mb-4\">\n      {[\n        {id: 'trajectory', name: '실시간 애니메이션'},\n        {id: 'cumulative', name: '누적 거리 분석'}\n      ].map(tab => (\n        <button\n          key={tab.id}\n          onClick={() => setCurrentView(tab.id)}\n          className={`px-3 py-2 rounded-md text-sm font-medium ${\n            currentView === tab.id \n              ? 'bg-blue-500 text-white' \n              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n          }`}\n        >\n          {tab.name}\n        </button>\n      ))}\n    </div>\n  );\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-6 space-y-6\">\n      <h1 className=\"text-3xl font-bold text-center mb-8\">고도화된 웨이퍼 폴리싱 분석 시뮬레이터</h1>\n      \n      <div className=\"space-y-4\">\n        <ControlPanel />\n        \n        <div>\n          <ViewTabs />\n          \n          {isSimulating && (\n            <div className=\"w-full h-96 bg-gray-100 border rounded-lg flex items-center justify-center\">\n              <div className=\"text-center\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n                <p className=\"text-gray-600\">고도화된 시뮬레이션 실행 중...</p>\n              </div>\n            </div>\n          )}\n          \n          {!isSimulating && results && (\n            <div>\n              {currentView === 'trajectory' && <AnimationView />}\n              {currentView === 'cumulative' && <CumulativeDistanceAnalysis />}\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* 선택된 점들 정보 */}\n      {(selectedPoints.length > 0 || userSelectedPoints.length > 0) && (\n        <div className=\"bg-white border rounded-lg p-4\">\n          <h3 className=\"text-lg font-semibold mb-2\">선택된 점들 정보</h3>\n          \n          {selectedPoints.length > 0 && (\n            <div className=\"mb-4\">\n              <h4 className=\"font-medium text-blue-600 mb-2\">분석용 선택 점들 ({selectedPoints.length}/5)</h4>\n              <div className=\"grid grid-cols-5 gap-4\">\n                {selectedPoints.map(pointIndex => {\n                  const point = results?.wafer_points[pointIndex];\n                  const finalDistance = results?.finalDistances[pointIndex];\n                  return (\n                    <div key={pointIndex} className=\"bg-blue-50 p-3 rounded\">\n                      <div className=\"font-medium\">점 {pointIndex}</div>\n                      <div className=\"text-sm\">위치: ({point?.x.toFixed(1)}, {point?.y.toFixed(1)})</div>\n                      <div className=\"text-sm\">구역: {point?.zone}</div>\n                      <div className=\"text-sm\">반지름: {point?.r.toFixed(1)}mm</div>\n                      <div className=\"text-sm\">최종 거리: {finalDistance?.toFixed(2)}mm</div>\n                      <button\n                        onClick={() => handlePointSelection(pointIndex)}\n                        className=\"mt-2 text-xs bg-red-500 text-white px-2 py-1 rounded\"\n                      >\n                        제거\n                      </button>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n\n          {userSelectedPoints.length > 0 && (\n            <div>\n              <h4 className=\"font-medium text-orange-600 mb-2\">사용자 선택 점들 ({userSelectedPoints.length}/10)</h4>\n              <div className=\"grid grid-cols-5 gap-4\">\n                {userSelectedPoints.map(pointIndex => {\n                  const point = results?.wafer_points[pointIndex];\n                  const finalDistance = results?.finalDistances[pointIndex];\n                  return (\n                    <div key={pointIndex} className=\"bg-orange-50 p-3 rounded\">\n                      <div className=\"font-medium\">점 {pointIndex}</div>\n                      <div className=\"text-sm\">위치: ({point?.x.toFixed(1)}, {point?.y.toFixed(1)})</div>\n                      <div className=\"text-sm\">구역: {point?.zone}</div>\n                      <div className=\"text-sm\">반지름: {point?.r.toFixed(1)}mm</div>\n                      <div className=\"text-sm\">최종 거리: {finalDistance?.toFixed(2)}mm</div>\n                      <button\n                        onClick={() => {\n                          setIsSelectingMode(true);\n                          handlePointSelection(pointIndex);\n                        }}\n                        className=\"mt-2 text-xs bg-red-500 text-white px-2 py-1 rounded\"\n                      >\n                        제거\n                      </button>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n\n          {customPoints.length > 0 && (\n            <div>\n              <h4 className=\"font-medium text-purple-600 mb-2\">사용자 정의 점들 ({customPoints.length}개)</h4>\n              <div className=\"grid grid-cols-5 gap-4\">\n                {customPoints.map(point => {\n                  const pointIndex = results?.wafer_points.findIndex(p => p.customId === point.id);\n                  const finalDistance = pointIndex >= 0 ? results?.finalDistances[pointIndex] : 0;\n                  const x = point.radius * Math.cos(point.angle * Math.PI / 180);\n                  const y = point.radius * Math.sin(point.angle * Math.PI / 180);\n                  return (\n                    <div key={point.id} className=\"bg-purple-50 p-3 rounded\">\n                      <div className=\"font-medium\">사용자 점 {point.id}</div>\n                      <div className=\"text-sm\">위치: ({x.toFixed(1)}, {y.toFixed(1)})</div>\n                      <div className=\"text-sm\">반지름: {point.radius}mm</div>\n                      <div className=\"text-sm\">각도: {point.angle}°</div>\n                      <div className=\"text-sm\">최종 거리: {finalDistance?.toFixed(2)}mm</div>\n                      <button\n                        onClick={() => removeCustomPoint(point.id)}\n                        className=\"mt-2 text-xs bg-red-500 text-white px-2 py-1 rounded\"\n                      >\n                        제거\n                      </button>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdvancedWaferAnalysisSimulator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}