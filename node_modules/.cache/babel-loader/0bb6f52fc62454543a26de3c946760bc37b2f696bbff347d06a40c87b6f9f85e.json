{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\cmp_sliding_simulator\\\\src\\\\components\\\\cmp_sliding_simulator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction WaferSimulator() {\n  _s();\n  var _results$timeSeriesDa5;\n  const [params, setParams] = useState({\n    R_wafer: 150,\n    R_pad: 400,\n    rpm_pad: 31,\n    rpm_wafer: 30,\n    R_c: 225,\n    time_total: 150,\n    num_time_steps: 1500,\n    oscillation_enabled: true,\n    oscillation_amplitude: 40,\n    oscillation_speed: 5.0\n  });\n  const [results, setResults] = useState(null);\n  const [isSimulating, setIsSimulating] = useState(false);\n  const [customPoints, setCustomPoints] = useState([]);\n  const [newPointRadius, setNewPointRadius] = useState(75);\n  const [newPointAngle, setNewPointAngle] = useState(0);\n  const [animationTime, setAnimationTime] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [animationSpeed, setAnimationSpeed] = useState(1.0);\n  const [currentView, setCurrentView] = useState('trajectory');\n  const [selectedPadRadii, setSelectedPadRadii] = useState([200]);\n  const [simulationKey, setSimulationKey] = useState(0);\n  const [isInitialLoad, setIsInitialLoad] = useState(true);\n  const [visibleGraphs, setVisibleGraphs] = useState({\n    padCoordinate: true,\n    heatmap: true,\n    velocityVector: true,\n    pad200mmTrace: true\n  });\n  const [activeWafers, setActiveWafers] = useState({\n    left: true,\n    right: true\n  });\n  const animationRef = useRef(null);\n  const isPlayingRef = useRef(false);\n  const lastFrameTimeRef = useRef(0);\n  const animate = useCallback(currentTime => {\n    if (!isPlayingRef.current) return;\n    if (lastFrameTimeRef.current === 0) {\n      lastFrameTimeRef.current = currentTime;\n    }\n    const deltaTime = currentTime - lastFrameTimeRef.current;\n    lastFrameTimeRef.current = currentTime;\n    const realTimeSeconds = deltaTime / 1000;\n    const simulationTimeIncrement = realTimeSeconds * animationSpeed * 10;\n    setAnimationTime(prev => {\n      var _results$timeSeriesDa, _results$timeSeriesDa2;\n      const maxTime = ((_results$timeSeriesDa = results === null || results === void 0 ? void 0 : (_results$timeSeriesDa2 = results.timeSeriesData) === null || _results$timeSeriesDa2 === void 0 ? void 0 : _results$timeSeriesDa2.length) !== null && _results$timeSeriesDa !== void 0 ? _results$timeSeriesDa : 1) - 1;\n      const next = prev + simulationTimeIncrement;\n      if (next >= maxTime) {\n        isPlayingRef.current = false;\n        setIsPlaying(false);\n        if (animationRef.current) {\n          cancelAnimationFrame(animationRef.current);\n          animationRef.current = null;\n        }\n        return maxTime;\n      }\n      if (isPlayingRef.current) {\n        animationRef.current = requestAnimationFrame(animate);\n      }\n      return next;\n    });\n  }, [animationSpeed, results]);\n  const runSimulation = useCallback(() => {\n    setIsSimulating(true);\n    setTimeout(() => {\n      const omega_pad = params.rpm_pad * 2 * Math.PI / 60;\n      const omega_wafer = params.rpm_wafer * 2 * Math.PI / 60;\n      const time_steps = Array.from({\n        length: params.num_time_steps\n      }, (_, i) => {\n        return i * params.time_total / (params.num_time_steps - 1);\n      });\n      const dt = time_steps.length > 1 ? time_steps[1] - time_steps[0] : 0.1;\n      let wafer_x_oscillation, wafer_vx_oscillation;\n      if (params.oscillation_enabled) {\n        // 간단한 사인진동 모델\n        const freq = params.oscillation_speed / (2 * params.oscillation_amplitude || 1); // 0분모 방지\n        wafer_x_oscillation = time_steps.map(t => params.oscillation_amplitude * Math.sin(2 * Math.PI * freq * t));\n        wafer_vx_oscillation = time_steps.map(t => 2 * Math.PI * freq * params.oscillation_amplitude * Math.cos(2 * Math.PI * freq * t));\n      } else {\n        wafer_x_oscillation = new Array(params.num_time_steps).fill(0);\n        wafer_vx_oscillation = new Array(params.num_time_steps).fill(0);\n      }\n\n      // 웨이퍼 내 포인트 생성 (균일 격자 → 원 내부만 채택)\n      const wafer_points = [];\n      const target_points = 300;\n      const grid_size = Math.ceil(Math.sqrt(target_points * 4 / Math.PI));\n      const cell_size = 2 * params.R_wafer / grid_size;\n      for (let i = 0; i < grid_size; i++) {\n        for (let j = 0; j < grid_size; j++) {\n          const x = (i + 0.5) * cell_size - params.R_wafer;\n          const y = (j + 0.5) * cell_size - params.R_wafer;\n          if (Math.hypot(x, y) <= params.R_wafer) {\n            const r = Math.hypot(x, y);\n            const theta = Math.atan2(y, x);\n            let zone = 'outer';\n            if (r < params.R_wafer * 0.3) zone = 'inner';else if (r < params.R_wafer * 0.7) zone = 'middle';\n            wafer_points.push({\n              x,\n              y,\n              r,\n              theta,\n              zone\n            });\n          }\n        }\n      }\n\n      // 속도 벡터 시각화를 위한 추가 포인트(선택적)\n      const vectorPoints = [];\n      vectorPoints.push({\n        x: 0,\n        y: 0,\n        r: 0,\n        theta: 0,\n        zone: 'center',\n        vectorId: 0\n      });\n      vectorPoints.push({\n        x: params.R_wafer,\n        y: 0,\n        r: params.R_wafer,\n        theta: 0,\n        zone: 'edge',\n        vectorId: 1\n      });\n      const rings = 4;\n      const totalVectorPoints = 18;\n      for (let ring = 1; ring <= rings; ring++) {\n        const radius = ring * params.R_wafer / rings;\n        const pointsInRing = Math.ceil(totalVectorPoints * ring / (rings * (rings + 1) / 2));\n        for (let i = 0; i < pointsInRing; i++) {\n          const angle = 2 * Math.PI * i / pointsInRing;\n          const x = radius * Math.cos(angle);\n          const y = radius * Math.sin(angle);\n          if (Math.hypot(x, y) <= params.R_wafer) {\n            vectorPoints.push({\n              x,\n              y,\n              r: radius,\n              theta: angle,\n              zone: 'vector',\n              vectorId: vectorPoints.length\n            });\n          }\n        }\n      }\n      vectorPoints.forEach(p => wafer_points.push(p));\n\n      // 사용자 지정 포인트\n      customPoints.forEach(point => {\n        const x = point.radius * Math.cos(point.angle * Math.PI / 180);\n        const y = point.radius * Math.sin(point.angle * Math.PI / 180);\n        if (Math.hypot(x, y) <= params.R_wafer) {\n          wafer_points.push({\n            x,\n            y,\n            r: point.radius,\n            theta: point.angle * Math.PI / 180,\n            zone: 'custom',\n            customId: point.id\n          });\n        }\n      });\n      const num_actual_grid = wafer_points.length;\n      const timeSeriesData = [];\n      const trajectoryData = wafer_points.map(() => []);\n      const cumulativeDistance = wafer_points.map(() => 0);\n      const padTrajectoryData = wafer_points.map(() => []);\n      const padTrajectoryDataLeft = wafer_points.map(() => []);\n      const velocityData = wafer_points.map(() => []);\n      const padRadiiTrajectories = {};\n      selectedPadRadii.forEach(radius => {\n        padRadiiTrajectories[radius] = [];\n      });\n      const rotationTrackingByRadius = {};\n      selectedPadRadii.forEach(radius => {\n        rotationTrackingByRadius[radius] = {\n          lastPadAngle: 0,\n          currentRotationTraces: [],\n          rotationCount: 0,\n          allRotations: []\n        };\n      });\n      for (let k = 0; k < params.num_time_steps; k++) {\n        const t = time_steps[k];\n        const pad_theta = omega_pad * t;\n        const wafer_theta = omega_wafer * t;\n        const wafer_xc = params.R_c + wafer_x_oscillation[k];\n        const wafer_yc = 0.0;\n        const wafer_xc_left = -(params.R_c - wafer_x_oscillation[k]);\n        const wafer_yc_left = 0.0;\n        const cos_w = Math.cos(wafer_theta);\n        const sin_w = Math.sin(wafer_theta);\n        const timeStepData = {\n          time: t,\n          wafer_center_x: wafer_xc,\n          wafer_center_y: wafer_yc,\n          wafer_center_x_left: wafer_xc_left,\n          wafer_center_y_left: wafer_yc_left,\n          wafer_angle: wafer_theta,\n          pad_angle: pad_theta,\n          points: []\n        };\n\n        // 선택한 패드 반경을 웨이퍼 좌표로 투영하여 궤적 기록\n        selectedPadRadii.forEach(padRadius => {\n          const padPoint = {\n            x: padRadius,\n            y: 0\n          };\n          const cos_p = Math.cos(pad_theta);\n          const sin_p = Math.sin(pad_theta);\n          const global_x = padPoint.x * cos_p - padPoint.y * sin_p;\n          const global_y = padPoint.x * sin_p + padPoint.y * cos_p;\n          const rel_x = global_x - wafer_xc;\n          const rel_y = global_y - wafer_yc;\n          const cos_w_inv = Math.cos(-wafer_theta);\n          const sin_w_inv = Math.sin(-wafer_theta);\n          const wafer_x = rel_x * cos_w_inv - rel_y * sin_w_inv;\n          const wafer_y = rel_x * sin_w_inv + rel_y * cos_w_inv;\n          const fullRotation = 2 * Math.PI;\n          const currentRotation = Math.floor(pad_theta / fullRotation);\n          const tracking = rotationTrackingByRadius[padRadius];\n          if (currentRotation > tracking.rotationCount) {\n            if (tracking.currentRotationTraces.length > 0) {\n              tracking.allRotations.push({\n                rotation: tracking.rotationCount,\n                traces: [...tracking.currentRotationTraces]\n              });\n            }\n            tracking.currentRotationTraces = [];\n            tracking.rotationCount = currentRotation;\n          }\n          const distanceFromWaferCenter = Math.hypot(wafer_x, wafer_y);\n          if (distanceFromWaferCenter <= params.R_wafer * 1.05) {\n            let shouldAddPoint = tracking.currentRotationTraces.length === 0;\n            if (!shouldAddPoint && tracking.currentRotationTraces.length > 0) {\n              const prevPoint = tracking.currentRotationTraces[tracking.currentRotationTraces.length - 1];\n              const distance = Math.hypot(wafer_x - prevPoint.x, wafer_y - prevPoint.y);\n              const angle_change = Math.abs(pad_theta - prevPoint.pad_angle);\n              shouldAddPoint = distance > 2 || angle_change > 0.02;\n            }\n            if (shouldAddPoint) {\n              tracking.currentRotationTraces.push({\n                x: wafer_x,\n                y: wafer_y,\n                time: t,\n                pad_angle: pad_theta,\n                step: k,\n                radius: padRadius\n              });\n            }\n          }\n        });\n        for (let i = 0; i < num_actual_grid; i++) {\n          const wx = wafer_points[i].x;\n          const wy = wafer_points[i].y;\n          const zone = wafer_points[i].zone;\n          const abs_x = wafer_xc + (wx * cos_w - wy * sin_w);\n          const abs_y = wafer_yc + (wx * sin_w + wy * cos_w);\n          const v_center_x = wafer_vx_oscillation[k];\n          const v_center_y = 0.0;\n          const v_rotation_x = -omega_wafer * (wx * sin_w + wy * cos_w);\n          const v_rotation_y = omega_wafer * (wx * cos_w - wy * sin_w);\n          const v_gx = v_center_x + v_rotation_x;\n          const v_gy = v_center_y + v_rotation_y;\n          const v_pad_x = -omega_pad * abs_y;\n          const v_pad_y = omega_pad * abs_x;\n          const v_rel_x = v_gx - v_pad_x;\n          const v_rel_y = v_gy - v_pad_y;\n          const speed_rel = Math.hypot(v_rel_x, v_rel_y);\n          if (k > 0) {\n            const prevPoint = trajectoryData[i][k - 1];\n            const distance = Math.hypot(abs_x - prevPoint.x, abs_y - prevPoint.y);\n            cumulativeDistance[i] += distance;\n          }\n          const cos_p_neg = Math.cos(-pad_theta);\n          const sin_p_neg = Math.sin(-pad_theta);\n          const pad_local_x = abs_x * cos_p_neg - abs_y * sin_p_neg;\n          const pad_local_y = abs_x * sin_p_neg + abs_y * cos_p_neg;\n          padTrajectoryData[i].push({\n            time: t,\n            x: pad_local_x,\n            y: pad_local_y,\n            abs_x: abs_x,\n            abs_y: abs_y\n          });\n          const abs_x_left = wafer_xc_left + (wx * cos_w - wy * sin_w);\n          const abs_y_left = wafer_yc_left + (wx * sin_w + wy * cos_w);\n          const pad_local_x_left = abs_x_left * cos_p_neg - abs_y_left * sin_p_neg;\n          const pad_local_y_left = abs_x_left * sin_p_neg + abs_y_left * cos_p_neg;\n          padTrajectoryDataLeft[i].push({\n            time: t,\n            x: pad_local_x_left,\n            y: pad_local_y_left,\n            abs_x: abs_x_left,\n            abs_y: abs_y_left\n          });\n          trajectoryData[i].push({\n            time: t,\n            x: abs_x,\n            y: abs_y,\n            speed: speed_rel,\n            cumulative_distance: cumulativeDistance[i],\n            zone: zone\n          });\n          velocityData[i].push({\n            time: t,\n            vx: v_rel_x,\n            vy: v_rel_y,\n            speed: speed_rel\n          });\n          timeStepData.points.push({\n            id: i,\n            x: abs_x,\n            y: abs_y,\n            speed: speed_rel,\n            cumulative_distance: cumulativeDistance[i],\n            zone: zone\n          });\n        }\n        timeSeriesData.push(timeStepData);\n      }\n      selectedPadRadii.forEach(padRadius => {\n        const tracking = rotationTrackingByRadius[padRadius];\n        if (tracking.currentRotationTraces.length > 0) {\n          tracking.allRotations.push({\n            rotation: tracking.rotationCount,\n            traces: [...tracking.currentRotationTraces]\n          });\n        }\n        padRadiiTrajectories[padRadius] = tracking.allRotations;\n      });\n      const maxDistance = Math.max(...cumulativeDistance);\n      const minDistance = Math.min(...cumulativeDistance);\n      const avgDistance = cumulativeDistance.reduce((a, b) => a + b, 0) / (cumulativeDistance.length || 1);\n      setResults({\n        wafer_points,\n        timeSeriesData,\n        trajectoryData,\n        padTrajectoryData,\n        padTrajectoryDataLeft,\n        velocityData,\n        padRadiiTrajectories,\n        finalDistances: cumulativeDistance,\n        statistics: {\n          maxDistance,\n          minDistance,\n          avgDistance\n        },\n        R_wafer: params.R_wafer,\n        R_pad: params.R_pad,\n        time_steps\n      });\n      setIsSimulating(false);\n      setIsInitialLoad(false);\n    }, 50);\n  }, [params, customPoints, selectedPadRadii]);\n  useEffect(() => {\n    runSimulation();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [runSimulation, simulationKey]);\n  const barAnalysis = useMemo(() => {\n    if (!results || !results.padTrajectoryData || !results.trajectoryData || isInitialLoad) {\n      return {\n        padBarData: Array.from({\n          length: 40\n        }, (_, i) => ({\n          xRange: `${-200 + i * 10}~${-190 + i * 10}`,\n          count: 0\n        })),\n        waferBarData: Array.from({\n          length: 30\n        }, (_, i) => ({\n          xRange: `${-150 + i * 10}~${-140 + i * 10}`,\n          distance: 0\n        }))\n      };\n    }\n    const currentTimeIndex = Math.min(Math.floor(animationTime), results.timeSeriesData.length - 1);\n    if (currentTimeIndex <= 0) {\n      return {\n        padBarData: Array.from({\n          length: 40\n        }, (_, i) => ({\n          xRange: `${-200 + i * 10}~${-190 + i * 10}`,\n          count: 0\n        })),\n        waferBarData: Array.from({\n          length: 30\n        }, (_, i) => ({\n          xRange: `${-150 + i * 10}~${-140 + i * 10}`,\n          distance: 0\n        }))\n      };\n    }\n\n    // 패드 좌표계: X = -200 ~ 200, 10mm bin\n    const padBins = Array.from({\n      length: 40\n    }, (_, i) => -200 + i * 10);\n    const padCounts = new Array(padBins.length).fill(0);\n    results.padTrajectoryData.forEach(trajectory => {\n      const currentTrajectory = trajectory.slice(0, currentTimeIndex + 1);\n      currentTrajectory.forEach(point => {\n        const binIdx = Math.floor((point.x + 200) / 10);\n        if (binIdx >= 0 && binIdx < padBins.length) padCounts[binIdx]++;\n      });\n    });\n    const padBarData = padBins.map((x, i) => ({\n      xRange: `${x}~${x + 10}`,\n      count: padCounts[i]\n    }));\n\n    // 웨이퍼 히트맵 X-축: -150 ~ 150, 10mm bin (평균 누적거리)\n    const waferBins = Array.from({\n      length: 30\n    }, (_, i) => -150 + i * 10);\n    const waferDistances = new Array(waferBins.length).fill(0);\n    const waferPointCounts = new Array(waferBins.length).fill(0);\n    results.wafer_points.forEach((point, idx) => {\n      const binIdx = Math.floor((point.x + 150) / 10);\n      if (binIdx >= 0 && binIdx < waferBins.length && currentTimeIndex < results.trajectoryData[idx].length) {\n        waferDistances[binIdx] += results.trajectoryData[idx][currentTimeIndex].cumulative_distance;\n        waferPointCounts[binIdx]++;\n      }\n    });\n    const waferBarData = waferBins.map((x, i) => ({\n      xRange: `${x}~${x + 10}`,\n      distance: waferPointCounts[i] > 0 ? waferDistances[i] / waferPointCounts[i] : 0\n    }));\n    return {\n      padBarData,\n      waferBarData\n    };\n  }, [results, animationTime, isInitialLoad]);\n  const addCustomPoint = () => {\n    if (newPointRadius <= params.R_wafer && newPointRadius >= 0) {\n      const newPoint = {\n        id: Date.now(),\n        radius: newPointRadius,\n        angle: newPointAngle\n      };\n      setCustomPoints(prev => [...prev, newPoint]);\n    }\n  };\n  const removeCustomPoint = pointId => {\n    setCustomPoints(prev => prev.filter(p => p.id !== pointId));\n  };\n  const toggleAnimation = useCallback(() => {\n    if (isPlaying) {\n      isPlayingRef.current = false;\n      setIsPlaying(false);\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    } else {\n      var _results$timeSeriesDa3;\n      if (!(results !== null && results !== void 0 && (_results$timeSeriesDa3 = results.timeSeriesData) !== null && _results$timeSeriesDa3 !== void 0 && _results$timeSeriesDa3.length)) return;\n      isPlayingRef.current = true;\n      setIsPlaying(true);\n    }\n  }, [isPlaying, results]);\n  useEffect(() => {\n    var _results$timeSeriesDa4;\n    if (!isPlaying || !(results !== null && results !== void 0 && (_results$timeSeriesDa4 = results.timeSeriesData) !== null && _results$timeSeriesDa4 !== void 0 && _results$timeSeriesDa4.length)) {\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      return;\n    }\n    if (isPlaying && isPlayingRef.current) {\n      lastFrameTimeRef.current = 0;\n      animationRef.current = requestAnimationFrame(animate);\n    }\n    return () => {\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    };\n  }, [isPlaying, animate, results]);\n  const resetAnimation = useCallback(() => {\n    isPlayingRef.current = false;\n    setIsPlaying(false);\n    if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n      animationRef.current = null;\n    }\n    lastFrameTimeRef.current = 0;\n    setAnimationTime(0);\n    setIsInitialLoad(true);\n    setSimulationKey(prev => prev + 1);\n  }, []);\n  const toggleGraph = graphType => {\n    setVisibleGraphs(prev => ({\n      ...prev,\n      [graphType]: !prev[graphType]\n    }));\n  };\n  if (!(results !== null && results !== void 0 && (_results$timeSeriesDa5 = results.timeSeriesData) !== null && _results$timeSeriesDa5 !== void 0 && _results$timeSeriesDa5.length)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto p-4 sm:p-6 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl sm:text-3xl font-bold text-center\",\n        children: \"\\uC6E8\\uC774\\uD37C \\uD3F4\\uB9AC\\uC2F1 \\uC2DC\\uBBAC\\uB808\\uC774\\uD130\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow-lg space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-bold\",\n          children: \"\\uC2DC\\uBBAC\\uB808\\uC774\\uC158 \\uC81C\\uC5B4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 sm:grid-cols-4 gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-xs font-medium mb-1\",\n              children: \"\\uC6E8\\uC774\\uD37CR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: params.R_wafer,\n              onChange: e => setParams({\n                ...params,\n                R_wafer: Number(e.target.value)\n              }),\n              className: \"w-full px-2 py-1 text-sm border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-xs font-medium mb-1\",\n              children: \"\\uD328\\uB4DCR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: params.R_pad,\n              onChange: e => setParams({\n                ...params,\n                R_pad: Number(e.target.value)\n              }),\n              className: \"w-full px-2 py-1 text-sm border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-xs font-medium mb-1\",\n              children: \"\\uD328\\uB4DCRPM\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: params.rpm_pad,\n              onChange: e => setParams({\n                ...params,\n                rpm_pad: Number(e.target.value)\n              }),\n              className: \"w-full px-2 py-1 text-sm border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-xs font-medium mb-1\",\n              children: \"\\uC6E8\\uC774\\uD37CRPM\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: params.rpm_wafer,\n              onChange: e => setParams({\n                ...params,\n                rpm_wafer: Number(e.target.value)\n              }),\n              className: \"w-full px-2 py-1 text-sm border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }, this), isSimulating && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-96 bg-gray-100 border rounded-lg flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"\\uC2DC\\uBBAC\\uB808\\uC774\\uC158 \\uC2E4\\uD589 \\uC911...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 7\n    }, this);\n  }\n  const currentTimeIndex = Math.min(Math.floor(animationTime), results.timeSeriesData.length - 1);\n  const currentData = results.timeSeriesData[currentTimeIndex];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto p-4 sm:p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl sm:text-3xl font-bold text-center\",\n      children: \"\\uC6E8\\uC774\\uD37C \\uD3F4\\uB9AC\\uC2F1 \\uC2DC\\uBBAC\\uB808\\uC774\\uD130\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-lg shadow-lg space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold\",\n        children: \"\\uC2DC\\uBBAC\\uB808\\uC774\\uC158 \\uC81C\\uC5B4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 sm:grid-cols-4 gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium mb-1\",\n            children: \"\\uC6E8\\uC774\\uD37CR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: params.R_wafer,\n            onChange: e => setParams({\n              ...params,\n              R_wafer: Number(e.target.value)\n            }),\n            className: \"w-full px-2 py-1 text-sm border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium mb-1\",\n            children: \"\\uD328\\uB4DCR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: params.R_pad,\n            onChange: e => setParams({\n              ...params,\n              R_pad: Number(e.target.value)\n            }),\n            className: \"w-full px-2 py-1 text-sm border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium mb-1\",\n            children: \"\\uD328\\uB4DCRPM\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: params.rpm_pad,\n            onChange: e => setParams({\n              ...params,\n              rpm_pad: Number(e.target.value)\n            }),\n            className: \"w-full px-2 py-1 text-sm border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium mb-1\",\n            children: \"\\uC6E8\\uC774\\uD37CRPM\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: params.rpm_wafer,\n            onChange: e => setParams({\n              ...params,\n              rpm_wafer: Number(e.target.value)\n            }),\n            className: \"w-full px-2 py-1 text-sm border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t pt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-sm mb-2\",\n          children: \"\\uC9C4\\uB3D9 \\uC81C\\uC5B4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 sm:grid-cols-3 gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-xs font-medium mb-1\",\n              children: \"\\uC9C4\\uB3D9\\uD3ED(mm)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: params.oscillation_amplitude,\n              onChange: e => setParams({\n                ...params,\n                oscillation_amplitude: Number(e.target.value)\n              }),\n              className: \"w-full px-2 py-1 text-sm border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-xs font-medium mb-1\",\n              children: \"\\uC9C4\\uB3D9\\uC18D\\uB3C4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 671,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.1\",\n              value: params.oscillation_speed,\n              onChange: e => setParams({\n                ...params,\n                oscillation_speed: Number(e.target.value)\n              }),\n              className: \"w-full px-2 py-1 text-sm border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 672,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-end\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"inline-flex items-center text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"mr-2\",\n                checked: params.oscillation_enabled,\n                onChange: e => setParams({\n                  ...params,\n                  oscillation_enabled: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 17\n              }, this), \"\\uC9C4\\uB3D9 \\uC0AC\\uC6A9\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t pt-3 flex flex-wrap items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleAnimation,\n          className: \"px-3 py-1 text-sm rounded bg-blue-600 text-white hover:bg-blue-700\",\n          children: isPlaying ? '일시정지' : '재생'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetAnimation,\n          className: \"px-3 py-1 text-sm rounded bg-gray-600 text-white hover:bg-gray-700\",\n          children: \"\\uB9AC\\uC14B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: \"\\uC18D\\uB3C4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0.1\",\n            max: \"5\",\n            step: \"0.1\",\n            value: animationSpeed,\n            onChange: e => setAnimationSpeed(Number(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: [animationSpeed.toFixed(1), \"x\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-auto text-xs text-gray-600\",\n          children: [\"t=\", currentTimeIndex, \"/\", results.timeSeriesData.length - 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2 text-sm\",\n          children: \"\\uD328\\uB4DC \\uC88C\\uD45C\\uACC4 X \\uAD6C\\uAC04 \\uD1B5\\uACFC \\uD69F\\uC218 (-200~200)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-64\",\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: barAnalysis.padBarData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"xRange\",\n                tick: {\n                  fontSize: 10\n                },\n                interval: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"count\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2 text-sm\",\n          children: \"\\uC6E8\\uC774\\uD37C X \\uAD6C\\uAC04 \\uD3C9\\uADE0 \\uB204\\uC801\\uAC70\\uB9AC (-150~150)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-64\",\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: barAnalysis.waferBarData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 748,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"xRange\",\n                tick: {\n                  fontSize: 10\n                },\n                interval: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 751,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"distance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 752,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 747,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-lg shadow space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold text-sm\",\n        children: \"\\uCEE4\\uC2A4\\uD140 \\uC0D8\\uD50C \\uD3EC\\uC778\\uD2B8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-end gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium mb-1\",\n            children: \"\\uBC18\\uC9C0\\uB984(mm)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: newPointRadius,\n            onChange: e => setNewPointRadius(Number(e.target.value)),\n            className: \"w-32 px-2 py-1 text-sm border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium mb-1\",\n            children: \"\\uAC01\\uB3C4(\\xB0)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: newPointAngle,\n            onChange: e => setNewPointAngle(Number(e.target.value)),\n            className: \"w-32 px-2 py-1 text-sm border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addCustomPoint,\n          className: \"px-3 py-1 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700\",\n          children: \"\\uD3EC\\uC778\\uD2B8 \\uCD94\\uAC00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 762,\n        columnNumber: 9\n      }, this), customPoints.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"text-sm grid grid-cols-1 sm:grid-cols-2 gap-2\",\n        children: customPoints.map(p => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-center justify-between border p-2 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"r=\", p.radius, \"mm, \\u03B8=\", p.angle, \"\\xB0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeCustomPoint(p.id),\n            className: \"px-2 py-1 text-xs rounded bg-red-600 text-white hover:bg-red-700\",\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 17\n          }, this)]\n        }, p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 792,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-lg shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold text-sm mb-2\",\n        children: \"\\uB204\\uC801 \\uC774\\uB3D9\\uAC70\\uB9AC \\uD1B5\\uACC4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 810,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mr-4\",\n          children: [\"\\uD3C9\\uADE0: \", results.statistics.avgDistance.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 812,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mr-4\",\n          children: [\"\\uCD5C\\uC18C: \", results.statistics.minDistance.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uCD5C\\uB300: \", results.statistics.maxDistance.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 811,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 809,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 611,\n    columnNumber: 5\n  }, this);\n}\n_s(WaferSimulator, \"00kUO2WuNal3YCSML6lALxHjurg=\");\n_c = WaferSimulator;\nexport default WaferSimulator;\nvar _c;\n$RefreshReg$(_c, \"WaferSimulator\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useMemo","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","BarChart","Bar","jsxDEV","_jsxDEV","WaferSimulator","_s","_results$timeSeriesDa5","params","setParams","R_wafer","R_pad","rpm_pad","rpm_wafer","R_c","time_total","num_time_steps","oscillation_enabled","oscillation_amplitude","oscillation_speed","results","setResults","isSimulating","setIsSimulating","customPoints","setCustomPoints","newPointRadius","setNewPointRadius","newPointAngle","setNewPointAngle","animationTime","setAnimationTime","isPlaying","setIsPlaying","animationSpeed","setAnimationSpeed","currentView","setCurrentView","selectedPadRadii","setSelectedPadRadii","simulationKey","setSimulationKey","isInitialLoad","setIsInitialLoad","visibleGraphs","setVisibleGraphs","padCoordinate","heatmap","velocityVector","pad200mmTrace","activeWafers","setActiveWafers","left","right","animationRef","isPlayingRef","lastFrameTimeRef","animate","currentTime","current","deltaTime","realTimeSeconds","simulationTimeIncrement","prev","_results$timeSeriesDa","_results$timeSeriesDa2","maxTime","timeSeriesData","length","next","cancelAnimationFrame","requestAnimationFrame","runSimulation","setTimeout","omega_pad","Math","PI","omega_wafer","time_steps","Array","from","_","i","dt","wafer_x_oscillation","wafer_vx_oscillation","freq","map","t","sin","cos","fill","wafer_points","target_points","grid_size","ceil","sqrt","cell_size","j","x","y","hypot","r","theta","atan2","zone","push","vectorPoints","vectorId","rings","totalVectorPoints","ring","radius","pointsInRing","angle","forEach","p","point","customId","id","num_actual_grid","trajectoryData","cumulativeDistance","padTrajectoryData","padTrajectoryDataLeft","velocityData","padRadiiTrajectories","rotationTrackingByRadius","lastPadAngle","currentRotationTraces","rotationCount","allRotations","k","pad_theta","wafer_theta","wafer_xc","wafer_yc","wafer_xc_left","wafer_yc_left","cos_w","sin_w","timeStepData","time","wafer_center_x","wafer_center_y","wafer_center_x_left","wafer_center_y_left","wafer_angle","pad_angle","points","padRadius","padPoint","cos_p","sin_p","global_x","global_y","rel_x","rel_y","cos_w_inv","sin_w_inv","wafer_x","wafer_y","fullRotation","currentRotation","floor","tracking","rotation","traces","distanceFromWaferCenter","shouldAddPoint","prevPoint","distance","angle_change","abs","step","wx","wy","abs_x","abs_y","v_center_x","v_center_y","v_rotation_x","v_rotation_y","v_gx","v_gy","v_pad_x","v_pad_y","v_rel_x","v_rel_y","speed_rel","cos_p_neg","sin_p_neg","pad_local_x","pad_local_y","abs_x_left","abs_y_left","pad_local_x_left","pad_local_y_left","speed","cumulative_distance","vx","vy","maxDistance","max","minDistance","min","avgDistance","reduce","a","b","finalDistances","statistics","barAnalysis","padBarData","xRange","count","waferBarData","currentTimeIndex","padBins","padCounts","trajectory","currentTrajectory","slice","binIdx","waferBins","waferDistances","waferPointCounts","idx","addCustomPoint","newPoint","Date","now","removeCustomPoint","pointId","filter","toggleAnimation","_results$timeSeriesDa3","_results$timeSeriesDa4","resetAnimation","toggleGraph","graphType","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","Number","target","currentData","checked","onClick","toFixed","data","strokeDasharray","dataKey","tick","fontSize","interval","_c","$RefreshReg$"],"sources":["C:/Projects/cmp_sliding_simulator/src/components/cmp_sliding_simulator.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar } from 'recharts';\n\nfunction WaferSimulator() {\n  const [params, setParams] = useState({\n    R_wafer: 150,\n    R_pad: 400,\n    rpm_pad: 31,\n    rpm_wafer: 30,\n    R_c: 225,\n    time_total: 150,\n    num_time_steps: 1500,\n    oscillation_enabled: true,\n    oscillation_amplitude: 40,\n    oscillation_speed: 5.0\n  });\n\n  const [results, setResults] = useState(null);\n  const [isSimulating, setIsSimulating] = useState(false);\n  const [customPoints, setCustomPoints] = useState([]);\n  const [newPointRadius, setNewPointRadius] = useState(75);\n  const [newPointAngle, setNewPointAngle] = useState(0);\n  const [animationTime, setAnimationTime] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [animationSpeed, setAnimationSpeed] = useState(1.0);\n  const [currentView, setCurrentView] = useState('trajectory');\n  const [selectedPadRadii, setSelectedPadRadii] = useState([200]);\n  const [simulationKey, setSimulationKey] = useState(0);\n  const [isInitialLoad, setIsInitialLoad] = useState(true);\n\n  const [visibleGraphs, setVisibleGraphs] = useState({\n    padCoordinate: true,\n    heatmap: true,\n    velocityVector: true,\n    pad200mmTrace: true\n  });\n\n  const [activeWafers, setActiveWafers] = useState({\n    left: true,\n    right: true\n  });\n\n  const animationRef = useRef(null);\n  const isPlayingRef = useRef(false);\n  const lastFrameTimeRef = useRef(0);\n\n  const animate = useCallback(\n    (currentTime) => {\n      if (!isPlayingRef.current) return;\n\n      if (lastFrameTimeRef.current === 0) {\n        lastFrameTimeRef.current = currentTime;\n      }\n\n      const deltaTime = currentTime - lastFrameTimeRef.current;\n      lastFrameTimeRef.current = currentTime;\n\n      const realTimeSeconds = deltaTime / 1000;\n      const simulationTimeIncrement = realTimeSeconds * animationSpeed * 10;\n\n      setAnimationTime((prev) => {\n        const maxTime = (results?.timeSeriesData?.length ?? 1) - 1;\n        const next = prev + simulationTimeIncrement;\n\n        if (next >= maxTime) {\n          isPlayingRef.current = false;\n          setIsPlaying(false);\n          if (animationRef.current) {\n            cancelAnimationFrame(animationRef.current);\n            animationRef.current = null;\n          }\n          return maxTime;\n        }\n\n        if (isPlayingRef.current) {\n          animationRef.current = requestAnimationFrame(animate);\n        }\n        return next;\n      });\n    },\n    [animationSpeed, results]\n  );\n\n  const runSimulation = useCallback(() => {\n    setIsSimulating(true);\n\n    setTimeout(() => {\n      const omega_pad = (params.rpm_pad * 2 * Math.PI) / 60;\n      const omega_wafer = (params.rpm_wafer * 2 * Math.PI) / 60;\n\n      const time_steps = Array.from({ length: params.num_time_steps }, (_, i) => {\n        return (i * params.time_total) / (params.num_time_steps - 1);\n      });\n      const dt = time_steps.length > 1 ? time_steps[1] - time_steps[0] : 0.1;\n\n      let wafer_x_oscillation, wafer_vx_oscillation;\n      if (params.oscillation_enabled) {\n        // 간단한 사인진동 모델\n        const freq = params.oscillation_speed / (2 * params.oscillation_amplitude || 1); // 0분모 방지\n        wafer_x_oscillation = time_steps.map((t) => params.oscillation_amplitude * Math.sin(2 * Math.PI * freq * t));\n        wafer_vx_oscillation = time_steps.map(\n          (t) => 2 * Math.PI * freq * params.oscillation_amplitude * Math.cos(2 * Math.PI * freq * t)\n        );\n      } else {\n        wafer_x_oscillation = new Array(params.num_time_steps).fill(0);\n        wafer_vx_oscillation = new Array(params.num_time_steps).fill(0);\n      }\n\n      // 웨이퍼 내 포인트 생성 (균일 격자 → 원 내부만 채택)\n      const wafer_points = [];\n      const target_points = 300;\n      const grid_size = Math.ceil(Math.sqrt((target_points * 4) / Math.PI));\n      const cell_size = (2 * params.R_wafer) / grid_size;\n\n      for (let i = 0; i < grid_size; i++) {\n        for (let j = 0; j < grid_size; j++) {\n          const x = (i + 0.5) * cell_size - params.R_wafer;\n          const y = (j + 0.5) * cell_size - params.R_wafer;\n\n          if (Math.hypot(x, y) <= params.R_wafer) {\n            const r = Math.hypot(x, y);\n            const theta = Math.atan2(y, x);\n            let zone = 'outer';\n            if (r < params.R_wafer * 0.3) zone = 'inner';\n            else if (r < params.R_wafer * 0.7) zone = 'middle';\n            wafer_points.push({ x, y, r, theta, zone });\n          }\n        }\n      }\n\n      // 속도 벡터 시각화를 위한 추가 포인트(선택적)\n      const vectorPoints = [];\n      vectorPoints.push({ x: 0, y: 0, r: 0, theta: 0, zone: 'center', vectorId: 0 });\n      vectorPoints.push({ x: params.R_wafer, y: 0, r: params.R_wafer, theta: 0, zone: 'edge', vectorId: 1 });\n\n      const rings = 4;\n      const totalVectorPoints = 18;\n      for (let ring = 1; ring <= rings; ring++) {\n        const radius = (ring * params.R_wafer) / rings;\n        const pointsInRing = Math.ceil((totalVectorPoints * ring) / ((rings * (rings + 1)) / 2));\n        for (let i = 0; i < pointsInRing; i++) {\n          const angle = (2 * Math.PI * i) / pointsInRing;\n          const x = radius * Math.cos(angle);\n          const y = radius * Math.sin(angle);\n          if (Math.hypot(x, y) <= params.R_wafer) {\n            vectorPoints.push({\n              x,\n              y,\n              r: radius,\n              theta: angle,\n              zone: 'vector',\n              vectorId: vectorPoints.length\n            });\n          }\n        }\n      }\n      vectorPoints.forEach((p) => wafer_points.push(p));\n\n      // 사용자 지정 포인트\n      customPoints.forEach((point) => {\n        const x = point.radius * Math.cos((point.angle * Math.PI) / 180);\n        const y = point.radius * Math.sin((point.angle * Math.PI) / 180);\n        if (Math.hypot(x, y) <= params.R_wafer) {\n          wafer_points.push({\n            x,\n            y,\n            r: point.radius,\n            theta: (point.angle * Math.PI) / 180,\n            zone: 'custom',\n            customId: point.id\n          });\n        }\n      });\n\n      const num_actual_grid = wafer_points.length;\n      const timeSeriesData = [];\n      const trajectoryData = wafer_points.map(() => []);\n      const cumulativeDistance = wafer_points.map(() => 0);\n      const padTrajectoryData = wafer_points.map(() => []);\n      const padTrajectoryDataLeft = wafer_points.map(() => []);\n      const velocityData = wafer_points.map(() => []);\n\n      const padRadiiTrajectories = {};\n      selectedPadRadii.forEach((radius) => {\n        padRadiiTrajectories[radius] = [];\n      });\n\n      const rotationTrackingByRadius = {};\n      selectedPadRadii.forEach((radius) => {\n        rotationTrackingByRadius[radius] = {\n          lastPadAngle: 0,\n          currentRotationTraces: [],\n          rotationCount: 0,\n          allRotations: []\n        };\n      });\n\n      for (let k = 0; k < params.num_time_steps; k++) {\n        const t = time_steps[k];\n        const pad_theta = omega_pad * t;\n        const wafer_theta = omega_wafer * t;\n\n        const wafer_xc = params.R_c + wafer_x_oscillation[k];\n        const wafer_yc = 0.0;\n\n        const wafer_xc_left = -(params.R_c - wafer_x_oscillation[k]);\n        const wafer_yc_left = 0.0;\n\n        const cos_w = Math.cos(wafer_theta);\n        const sin_w = Math.sin(wafer_theta);\n\n        const timeStepData = {\n          time: t,\n          wafer_center_x: wafer_xc,\n          wafer_center_y: wafer_yc,\n          wafer_center_x_left: wafer_xc_left,\n          wafer_center_y_left: wafer_yc_left,\n          wafer_angle: wafer_theta,\n          pad_angle: pad_theta,\n          points: []\n        };\n\n        // 선택한 패드 반경을 웨이퍼 좌표로 투영하여 궤적 기록\n        selectedPadRadii.forEach((padRadius) => {\n          const padPoint = { x: padRadius, y: 0 };\n          const cos_p = Math.cos(pad_theta);\n          const sin_p = Math.sin(pad_theta);\n          const global_x = padPoint.x * cos_p - padPoint.y * sin_p;\n          const global_y = padPoint.x * sin_p + padPoint.y * cos_p;\n\n          const rel_x = global_x - wafer_xc;\n          const rel_y = global_y - wafer_yc;\n\n          const cos_w_inv = Math.cos(-wafer_theta);\n          const sin_w_inv = Math.sin(-wafer_theta);\n          const wafer_x = rel_x * cos_w_inv - rel_y * sin_w_inv;\n          const wafer_y = rel_x * sin_w_inv + rel_y * cos_w_inv;\n\n          const fullRotation = 2 * Math.PI;\n          const currentRotation = Math.floor(pad_theta / fullRotation);\n          const tracking = rotationTrackingByRadius[padRadius];\n\n          if (currentRotation > tracking.rotationCount) {\n            if (tracking.currentRotationTraces.length > 0) {\n              tracking.allRotations.push({\n                rotation: tracking.rotationCount,\n                traces: [...tracking.currentRotationTraces]\n              });\n            }\n            tracking.currentRotationTraces = [];\n            tracking.rotationCount = currentRotation;\n          }\n\n          const distanceFromWaferCenter = Math.hypot(wafer_x, wafer_y);\n          if (distanceFromWaferCenter <= params.R_wafer * 1.05) {\n            let shouldAddPoint = tracking.currentRotationTraces.length === 0;\n            if (!shouldAddPoint && tracking.currentRotationTraces.length > 0) {\n              const prevPoint = tracking.currentRotationTraces[tracking.currentRotationTraces.length - 1];\n              const distance = Math.hypot(wafer_x - prevPoint.x, wafer_y - prevPoint.y);\n              const angle_change = Math.abs(pad_theta - prevPoint.pad_angle);\n              shouldAddPoint = distance > 2 || angle_change > 0.02;\n            }\n            if (shouldAddPoint) {\n              tracking.currentRotationTraces.push({\n                x: wafer_x,\n                y: wafer_y,\n                time: t,\n                pad_angle: pad_theta,\n                step: k,\n                radius: padRadius\n              });\n            }\n          }\n        });\n\n        for (let i = 0; i < num_actual_grid; i++) {\n          const wx = wafer_points[i].x;\n          const wy = wafer_points[i].y;\n          const zone = wafer_points[i].zone;\n\n          const abs_x = wafer_xc + (wx * cos_w - wy * sin_w);\n          const abs_y = wafer_yc + (wx * sin_w + wy * cos_w);\n\n          const v_center_x = wafer_vx_oscillation[k];\n          const v_center_y = 0.0;\n\n          const v_rotation_x = -omega_wafer * (wx * sin_w + wy * cos_w);\n          const v_rotation_y = omega_wafer * (wx * cos_w - wy * sin_w);\n\n          const v_gx = v_center_x + v_rotation_x;\n          const v_gy = v_center_y + v_rotation_y;\n\n          const v_pad_x = -omega_pad * abs_y;\n          const v_pad_y = omega_pad * abs_x;\n\n          const v_rel_x = v_gx - v_pad_x;\n          const v_rel_y = v_gy - v_pad_y;\n          const speed_rel = Math.hypot(v_rel_x, v_rel_y);\n\n          if (k > 0) {\n            const prevPoint = trajectoryData[i][k - 1];\n            const distance = Math.hypot(abs_x - prevPoint.x, abs_y - prevPoint.y);\n            cumulativeDistance[i] += distance;\n          }\n\n          const cos_p_neg = Math.cos(-pad_theta);\n          const sin_p_neg = Math.sin(-pad_theta);\n          const pad_local_x = abs_x * cos_p_neg - abs_y * sin_p_neg;\n          const pad_local_y = abs_x * sin_p_neg + abs_y * cos_p_neg;\n\n          padTrajectoryData[i].push({\n            time: t,\n            x: pad_local_x,\n            y: pad_local_y,\n            abs_x: abs_x,\n            abs_y: abs_y\n          });\n\n          const abs_x_left = wafer_xc_left + (wx * cos_w - wy * sin_w);\n          const abs_y_left = wafer_yc_left + (wx * sin_w + wy * cos_w);\n\n          const pad_local_x_left = abs_x_left * cos_p_neg - abs_y_left * sin_p_neg;\n          const pad_local_y_left = abs_x_left * sin_p_neg + abs_y_left * cos_p_neg;\n\n          padTrajectoryDataLeft[i].push({\n            time: t,\n            x: pad_local_x_left,\n            y: pad_local_y_left,\n            abs_x: abs_x_left,\n            abs_y: abs_y_left\n          });\n\n          trajectoryData[i].push({\n            time: t,\n            x: abs_x,\n            y: abs_y,\n            speed: speed_rel,\n            cumulative_distance: cumulativeDistance[i],\n            zone: zone\n          });\n\n          velocityData[i].push({\n            time: t,\n            vx: v_rel_x,\n            vy: v_rel_y,\n            speed: speed_rel\n          });\n\n          timeStepData.points.push({\n            id: i,\n            x: abs_x,\n            y: abs_y,\n            speed: speed_rel,\n            cumulative_distance: cumulativeDistance[i],\n            zone: zone\n          });\n        }\n\n        timeSeriesData.push(timeStepData);\n      }\n\n      selectedPadRadii.forEach((padRadius) => {\n        const tracking = rotationTrackingByRadius[padRadius];\n        if (tracking.currentRotationTraces.length > 0) {\n          tracking.allRotations.push({\n            rotation: tracking.rotationCount,\n            traces: [...tracking.currentRotationTraces]\n          });\n        }\n        padRadiiTrajectories[padRadius] = tracking.allRotations;\n      });\n\n      const maxDistance = Math.max(...cumulativeDistance);\n      const minDistance = Math.min(...cumulativeDistance);\n      const avgDistance =\n        cumulativeDistance.reduce((a, b) => a + b, 0) / (cumulativeDistance.length || 1);\n\n      setResults({\n        wafer_points,\n        timeSeriesData,\n        trajectoryData,\n        padTrajectoryData,\n        padTrajectoryDataLeft,\n        velocityData,\n        padRadiiTrajectories,\n        finalDistances: cumulativeDistance,\n        statistics: { maxDistance, minDistance, avgDistance },\n        R_wafer: params.R_wafer,\n        R_pad: params.R_pad,\n        time_steps\n      });\n\n      setIsSimulating(false);\n      setIsInitialLoad(false);\n    }, 50);\n  }, [params, customPoints, selectedPadRadii]);\n\n  useEffect(() => {\n    runSimulation();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [runSimulation, simulationKey]);\n\n  const barAnalysis = useMemo(() => {\n    if (!results || !results.padTrajectoryData || !results.trajectoryData || isInitialLoad) {\n      return {\n        padBarData: Array.from({ length: 40 }, (_, i) => ({\n          xRange: `${-200 + i * 10}~${-190 + i * 10}`,\n          count: 0\n        })),\n        waferBarData: Array.from({ length: 30 }, (_, i) => ({\n          xRange: `${-150 + i * 10}~${-140 + i * 10}`,\n          distance: 0\n        }))\n      };\n    }\n\n    const currentTimeIndex = Math.min(\n      Math.floor(animationTime),\n      results.timeSeriesData.length - 1\n    );\n\n    if (currentTimeIndex <= 0) {\n      return {\n        padBarData: Array.from({ length: 40 }, (_, i) => ({\n          xRange: `${-200 + i * 10}~${-190 + i * 10}`,\n          count: 0\n        })),\n        waferBarData: Array.from({ length: 30 }, (_, i) => ({\n          xRange: `${-150 + i * 10}~${-140 + i * 10}`,\n          distance: 0\n        }))\n      };\n    }\n\n    // 패드 좌표계: X = -200 ~ 200, 10mm bin\n    const padBins = Array.from({ length: 40 }, (_, i) => -200 + i * 10);\n    const padCounts = new Array(padBins.length).fill(0);\n\n    results.padTrajectoryData.forEach((trajectory) => {\n      const currentTrajectory = trajectory.slice(0, currentTimeIndex + 1);\n      currentTrajectory.forEach((point) => {\n        const binIdx = Math.floor((point.x + 200) / 10);\n        if (binIdx >= 0 && binIdx < padBins.length) padCounts[binIdx]++;\n      });\n    });\n\n    const padBarData = padBins.map((x, i) => ({\n      xRange: `${x}~${x + 10}`,\n      count: padCounts[i]\n    }));\n\n    // 웨이퍼 히트맵 X-축: -150 ~ 150, 10mm bin (평균 누적거리)\n    const waferBins = Array.from({ length: 30 }, (_, i) => -150 + i * 10);\n    const waferDistances = new Array(waferBins.length).fill(0);\n    const waferPointCounts = new Array(waferBins.length).fill(0);\n\n    results.wafer_points.forEach((point, idx) => {\n      const binIdx = Math.floor((point.x + 150) / 10);\n      if (\n        binIdx >= 0 &&\n        binIdx < waferBins.length &&\n        currentTimeIndex < results.trajectoryData[idx].length\n      ) {\n        waferDistances[binIdx] += results.trajectoryData[idx][currentTimeIndex].cumulative_distance;\n        waferPointCounts[binIdx]++;\n      }\n    });\n\n    const waferBarData = waferBins.map((x, i) => ({\n      xRange: `${x}~${x + 10}`,\n      distance: waferPointCounts[i] > 0 ? waferDistances[i] / waferPointCounts[i] : 0\n    }));\n\n    return { padBarData, waferBarData };\n  }, [results, animationTime, isInitialLoad]);\n\n  const addCustomPoint = () => {\n    if (newPointRadius <= params.R_wafer && newPointRadius >= 0) {\n      const newPoint = {\n        id: Date.now(),\n        radius: newPointRadius,\n        angle: newPointAngle\n      };\n      setCustomPoints((prev) => [...prev, newPoint]);\n    }\n  };\n\n  const removeCustomPoint = (pointId) => {\n    setCustomPoints((prev) => prev.filter((p) => p.id !== pointId));\n  };\n\n  const toggleAnimation = useCallback(() => {\n    if (isPlaying) {\n      isPlayingRef.current = false;\n      setIsPlaying(false);\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    } else {\n      if (!results?.timeSeriesData?.length) return;\n      isPlayingRef.current = true;\n      setIsPlaying(true);\n    }\n  }, [isPlaying, results]);\n\n  useEffect(() => {\n    if (!isPlaying || !results?.timeSeriesData?.length) {\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      return;\n    }\n\n    if (isPlaying && isPlayingRef.current) {\n      lastFrameTimeRef.current = 0;\n      animationRef.current = requestAnimationFrame(animate);\n    }\n\n    return () => {\n      isPlayingRef.current = false;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    };\n  }, [isPlaying, animate, results]);\n\n  const resetAnimation = useCallback(() => {\n    isPlayingRef.current = false;\n    setIsPlaying(false);\n    if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n      animationRef.current = null;\n    }\n    lastFrameTimeRef.current = 0;\n    setAnimationTime(0);\n    setIsInitialLoad(true);\n    setSimulationKey((prev) => prev + 1);\n  }, []);\n\n  const toggleGraph = (graphType) => {\n    setVisibleGraphs((prev) => ({ ...prev, [graphType]: !prev[graphType] }));\n  };\n\n  if (!results?.timeSeriesData?.length) {\n    return (\n      <div className=\"max-w-7xl mx-auto p-4 sm:p-6 space-y-6\">\n        <h1 className=\"text-2xl sm:text-3xl font-bold text-center\">웨이퍼 폴리싱 시뮬레이터</h1>\n\n        <div className=\"bg-white p-4 rounded-lg shadow-lg space-y-4\">\n          <h2 className=\"text-lg font-bold\">시뮬레이션 제어</h2>\n          <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\n            <div>\n              <label className=\"block text-xs font-medium mb-1\">웨이퍼R</label>\n              <input\n                type=\"number\"\n                value={params.R_wafer}\n                onChange={(e) => setParams({ ...params, R_wafer: Number(e.target.value) })}\n                className=\"w-full px-2 py-1 text-sm border rounded\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium mb-1\">패드R</label>\n              <input\n                type=\"number\"\n                value={params.R_pad}\n                onChange={(e) => setParams({ ...params, R_pad: Number(e.target.value) })}\n                className=\"w-full px-2 py-1 text-sm border rounded\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium mb-1\">패드RPM</label>\n              <input\n                type=\"number\"\n                value={params.rpm_pad}\n                onChange={(e) => setParams({ ...params, rpm_pad: Number(e.target.value) })}\n                className=\"w-full px-2 py-1 text-sm border rounded\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium mb-1\">웨이퍼RPM</label>\n              <input\n                type=\"number\"\n                value={params.rpm_wafer}\n                onChange={(e) => setParams({ ...params, rpm_wafer: Number(e.target.value) })}\n                className=\"w-full px-2 py-1 text-sm border rounded\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {isSimulating && (\n          <div className=\"w-full h-96 bg-gray-100 border rounded-lg flex items-center justify-center\">\n            <div className=\"text-center\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n              <p className=\"text-gray-600\">시뮬레이션 실행 중...</p>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  const currentTimeIndex = Math.min(Math.floor(animationTime), results.timeSeriesData.length - 1);\n  const currentData = results.timeSeriesData[currentTimeIndex];\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-4 sm:p-6 space-y-6\">\n      <h1 className=\"text-2xl sm:text-3xl font-bold text-center\">웨이퍼 폴리싱 시뮬레이터</h1>\n\n      {/* 제어 패널 */}\n      <div className=\"bg-white p-4 rounded-lg shadow-lg space-y-4\">\n        <h2 className=\"text-lg font-bold\">시뮬레이션 제어</h2>\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">웨이퍼R</label>\n            <input\n              type=\"number\"\n              value={params.R_wafer}\n              onChange={(e) => setParams({ ...params, R_wafer: Number(e.target.value) })}\n              className=\"w-full px-2 py-1 text-sm border rounded\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">패드R</label>\n            <input\n              type=\"number\"\n              value={params.R_pad}\n              onChange={(e) => setParams({ ...params, R_pad: Number(e.target.value) })}\n              className=\"w-full px-2 py-1 text-sm border rounded\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">패드RPM</label>\n            <input\n              type=\"number\"\n              value={params.rpm_pad}\n              onChange={(e) => setParams({ ...params, rpm_pad: Number(e.target.value) })}\n              className=\"w-full px-2 py-1 text-sm border rounded\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">웨이퍼RPM</label>\n            <input\n              type=\"number\"\n              value={params.rpm_wafer}\n              onChange={(e) => setParams({ ...params, rpm_wafer: Number(e.target.value) })}\n              className=\"w-full px-2 py-1 text-sm border rounded\"\n            />\n          </div>\n        </div>\n\n        <div className=\"border-t pt-3\">\n          <h3 className=\"font-semibold text-sm mb-2\">진동 제어</h3>\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n            <div>\n              <label className=\"block text-xs font-medium mb-1\">진동폭(mm)</label>\n              <input\n                type=\"number\"\n                value={params.oscillation_amplitude}\n                onChange={(e) =>\n                  setParams({ ...params, oscillation_amplitude: Number(e.target.value) })\n                }\n                className=\"w-full px-2 py-1 text-sm border rounded\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium mb-1\">진동속도</label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                value={params.oscillation_speed}\n                onChange={(e) => setParams({ ...params, oscillation_speed: Number(e.target.value) })}\n                className=\"w-full px-2 py-1 text-sm border rounded\"\n              />\n            </div>\n            <div className=\"flex items-end\">\n              <label className=\"inline-flex items-center text-sm\">\n                <input\n                  type=\"checkbox\"\n                  className=\"mr-2\"\n                  checked={params.oscillation_enabled}\n                  onChange={(e) => setParams({ ...params, oscillation_enabled: e.target.checked })}\n                />\n                진동 사용\n              </label>\n            </div>\n          </div>\n        </div>\n\n        {/* 애니메이션 제어 */}\n        <div className=\"border-t pt-3 flex flex-wrap items-center gap-3\">\n          <button\n            onClick={toggleAnimation}\n            className=\"px-3 py-1 text-sm rounded bg-blue-600 text-white hover:bg-blue-700\"\n          >\n            {isPlaying ? '일시정지' : '재생'}\n          </button>\n          <button\n            onClick={resetAnimation}\n            className=\"px-3 py-1 text-sm rounded bg-gray-600 text-white hover:bg-gray-700\"\n          >\n            리셋\n          </button>\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-sm\">속도</span>\n            <input\n              type=\"range\"\n              min=\"0.1\"\n              max=\"5\"\n              step=\"0.1\"\n              value={animationSpeed}\n              onChange={(e) => setAnimationSpeed(Number(e.target.value))}\n            />\n            <span className=\"text-sm\">{animationSpeed.toFixed(1)}x</span>\n          </div>\n          <div className=\"ml-auto text-xs text-gray-600\">\n            t={currentTimeIndex}/{results.timeSeriesData.length - 1}\n          </div>\n        </div>\n      </div>\n\n      {/* 2D 막대 그래프: 패드 좌표계 x-통과 횟수 / 웨이퍼 x-평균 누적거리 */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <h3 className=\"font-semibold mb-2 text-sm\">패드 좌표계 X 구간 통과 횟수 (-200~200)</h3>\n          <div className=\"w-full h-64\">\n            <ResponsiveContainer>\n              <BarChart data={barAnalysis.padBarData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"xRange\" tick={{ fontSize: 10 }} interval={4} />\n                <YAxis />\n                <Tooltip />\n                <Bar dataKey=\"count\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <h3 className=\"font-semibold mb-2 text-sm\">웨이퍼 X 구간 평균 누적거리 (-150~150)</h3>\n          <div className=\"w-full h-64\">\n            <ResponsiveContainer>\n              <BarChart data={barAnalysis.waferBarData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"xRange\" tick={{ fontSize: 10 }} interval={4} />\n                <YAxis />\n                <Tooltip />\n                <Bar dataKey=\"distance\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      </div>\n\n      {/* 커스텀 포인트 제어 */}\n      <div className=\"bg-white p-4 rounded-lg shadow space-y-3\">\n        <h3 className=\"font-semibold text-sm\">커스텀 샘플 포인트</h3>\n        <div className=\"flex flex-wrap items-end gap-3\">\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">반지름(mm)</label>\n            <input\n              type=\"number\"\n              value={newPointRadius}\n              onChange={(e) => setNewPointRadius(Number(e.target.value))}\n              className=\"w-32 px-2 py-1 text-sm border rounded\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">각도(°)</label>\n            <input\n              type=\"number\"\n              value={newPointAngle}\n              onChange={(e) => setNewPointAngle(Number(e.target.value))}\n              className=\"w-32 px-2 py-1 text-sm border rounded\"\n            />\n          </div>\n          <button\n            onClick={addCustomPoint}\n            className=\"px-3 py-1 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700\"\n          >\n            포인트 추가\n          </button>\n        </div>\n\n        {customPoints.length > 0 && (\n          <ul className=\"text-sm grid grid-cols-1 sm:grid-cols-2 gap-2\">\n            {customPoints.map((p) => (\n              <li key={p.id} className=\"flex items-center justify-between border p-2 rounded\">\n                <span>\n                  r={p.radius}mm, θ={p.angle}°\n                </span>\n                <button\n                  onClick={() => removeCustomPoint(p.id)}\n                  className=\"px-2 py-1 text-xs rounded bg-red-600 text-white hover:bg-red-700\"\n                >\n                  삭제\n                </button>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n\n      {/* 간단 통계 */}\n      <div className=\"bg-white p-4 rounded-lg shadow\">\n        <h3 className=\"font-semibold text-sm mb-2\">누적 이동거리 통계</h3>\n        <div className=\"text-sm\">\n          <span className=\"mr-4\">\n            평균: {results.statistics.avgDistance.toFixed(2)}\n          </span>\n          <span className=\"mr-4\">\n            최소: {results.statistics.minDistance.toFixed(2)}\n          </span>\n          <span>\n            최대: {results.statistics.maxDistance.toFixed(2)}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default WaferSimulator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}